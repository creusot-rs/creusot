module M_list_reversal_lasso__qyi13715866738248475091__index [#"list_reversal_lasso.rs" 30 4 30 35] (* <Memory as std::ops::Index<usize>> *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 28 15 28 34
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 29 14 29 44
  let%span svec2 = "../../../creusot-contracts/src/std/vec.rs" 162 27 162 46
  let%span svec3 = "../../../creusot-contracts/src/std/vec.rs" 163 26 163 54
  let%span slist_reversal_lasso4 = "list_reversal_lasso.rs" 50 20 50 70
  let%span slist_reversal_lasso5 = "list_reversal_lasso.rs" 21 8 21 31
  let%span smodel6 = "../../../creusot-contracts/src/model.rs" 88 8 88 22
  let%span sslice7 = "../../../creusot-contracts/src/std/slice.rs" 122 20 122 37
  let%span sslice8 = "../../../creusot-contracts/src/std/slice.rs" 129 20 129 37
  let%span svec9 = "../../../creusot-contracts/src/std/vec.rs" 18 14 18 41
  let%span sops10 = "../../../creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  use prelude.prelude.Opaque
  
  type t_NonNull'0  =
    { t_NonNull__pointer'0: opaque_ptr }
  
  type t_Unique'0  =
    { t_Unique__pointer'0: t_NonNull'0; t_Unique__qy95zmarker'0: () }
  
  use prelude.prelude.UIntSize
  
  type t_Cap'0  =
    { t_Cap__0'0: usize }
  
  type t_RawVec'0  =
    { t_RawVec__ptr'0: t_Unique'0; t_RawVec__cap'0: t_Cap'0; t_RawVec__alloc'0: () }
  
  type t_Vec'0  =
    { t_Vec__buf'0: t_RawVec'0; t_Vec__len'0: usize }
  
  type t_Memory'0  =
    { t_Memory__0'0: t_Vec'0 }
  
  use prelude.prelude.Borrow
  
  predicate inv'0 (_1 : t_Vec'0)
  
  axiom inv_axiom'0 [@rewrite] : forall x : t_Vec'0 [inv'0 x] . inv'0 x = true
  
  predicate inv'1 (_1 : usize)
  
  axiom inv_axiom'1 [@rewrite] : forall x : usize [inv'1 x] . inv'1 x = true
  
  use seq.Seq
  
  use seq.Seq
  
  constant v_MAX'0 : usize = (18446744073709551615 : usize)
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function view'1 (self : t_Vec'0) : Seq.seq usize
  
  axiom view'1_spec : forall self : t_Vec'0 . [%#svec9] Seq.length (view'1 self) <= UIntSize.to_int (v_MAX'0 : usize)
  
  function view'0 (self : t_Vec'0) : Seq.seq usize =
    [%#smodel6] view'1 self
  
  predicate in_bounds'0 [@inline:trivial] (self : usize) (seq : Seq.seq usize) =
    [%#sslice7] UIntSize.to_int self < Seq.length seq
  
  predicate inv'2 (_1 : usize)
  
  axiom inv_axiom'2 [@rewrite] : forall x : usize [inv'2 x] . inv'2 x = true
  
  use seq.Seq
  
  predicate has_value'0 [@inline:trivial] (self : usize) (seq : Seq.seq usize) (out : usize) =
    [%#sslice8] Seq.get seq (UIntSize.to_int self) = out
  
  let rec index'1 (self:t_Vec'0) (index:usize) (return'  (ret:usize))= {[@expl:index 'self' type invariant] inv'0 self}
    {[@expl:index 'index' type invariant] inv'1 index}
    {[@expl:index requires] [%#svec2] in_bounds'0 index (view'0 self)}
    any
    [ return' (result:usize)-> {inv'2 result} {[%#svec3] has_value'0 index (view'0 self) result} (! return' {result}) ]
    
  
  use prelude.prelude.Intrinsic
  
  predicate nonnull_ptr'0 [#"list_reversal_lasso.rs" 49 4 49 44] (self : t_Memory'0) (i : usize) =
    [%#slist_reversal_lasso4] Seq.length (view'1 self.t_Memory__0'0) <= UIntSize.to_int (v_MAX'0 : usize)
    /\ UIntSize.to_int i < Seq.length (view'1 self.t_Memory__0'0)
  
  function index_logic'1 [@inline:trivial] (self : t_Vec'0) (ix : usize) : usize =
    [%#sops10] Seq.get (view'1 self) (UIntSize.to_int ix)
  
  function index_logic'0 [#"list_reversal_lasso.rs" 20 4 20 39] (self : t_Memory'0) (i : usize) : usize =
    [%#slist_reversal_lasso5] index_logic'1 self.t_Memory__0'0 i
  
  meta "compute_max_steps" 1000000
  
  let rec index'0 (self:t_Memory'0) (i:usize) (return'  (ret:usize))= {[@expl:index requires] [%#slist_reversal_lasso0] nonnull_ptr'0 self i}
    (! bb0
    [ bb0 = s0 [ s0 = index'1 {self.t_Memory__0'0} {i} (fun (_ret':usize) ->  [ &_6 <- _ret' ] s1) | s1 = bb1 ] 
    | bb1 = s0 [ s0 =  [ &_5 <- _6 ] s1 | s1 =  [ &_0 <- _5 ] s2 | s2 = return' {_0} ]  ]
    )
    [ & _0 : usize = any_l ()
    | & self : t_Memory'0 = self
    | & i : usize = i
    | & _5 : usize = any_l ()
    | & _6 : usize = any_l () ]
    
    [ return' (result:usize)-> {[@expl:index ensures] [%#slist_reversal_lasso1] result = index_logic'0 self i}
      (! return' {result}) ]
    
end
module M_list_reversal_lasso__qyi14823043098042356205__index_mut [#"list_reversal_lasso.rs" 41 4 41 47] (* <Memory as std::ops::IndexMut<usize>> *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 36 15 36 34
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 37 14 37 47
  let%span slist_reversal_lasso2 = "list_reversal_lasso.rs" 38 14 38 47
  let%span slist_reversal_lasso3 = "list_reversal_lasso.rs" 39 14 39 47
  let%span slist_reversal_lasso4 = "list_reversal_lasso.rs" 40 14 40 111
  let%span svec5 = "../../../creusot-contracts/src/std/vec.rs" 152 27 152 46
  let%span svec6 = "../../../creusot-contracts/src/std/vec.rs" 153 26 153 54
  let%span svec7 = "../../../creusot-contracts/src/std/vec.rs" 154 26 154 57
  let%span svec8 = "../../../creusot-contracts/src/std/vec.rs" 155 26 155 62
  let%span svec9 = "../../../creusot-contracts/src/std/vec.rs" 156 26 156 55
  let%span slist_reversal_lasso10 = "list_reversal_lasso.rs" 50 20 50 70
  let%span slist_reversal_lasso11 = "list_reversal_lasso.rs" 21 8 21 31
  let%span svec12 = "../../../creusot-contracts/src/std/vec.rs" 18 14 18 41
  let%span smodel13 = "../../../creusot-contracts/src/model.rs" 106 8 106 22
  let%span sslice14 = "../../../creusot-contracts/src/std/slice.rs" 122 20 122 37
  let%span sslice15 = "../../../creusot-contracts/src/std/slice.rs" 129 20 129 37
  let%span sslice16 = "../../../creusot-contracts/src/std/slice.rs" 136 20 136 94
  let%span sresolve17 = "../../../creusot-contracts/src/resolve.rs" 54 20 54 34
  let%span sops18 = "../../../creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Opaque
  
  type t_NonNull'0  =
    { t_NonNull__pointer'0: opaque_ptr }
  
  type t_Unique'0  =
    { t_Unique__pointer'0: t_NonNull'0; t_Unique__qy95zmarker'0: () }
  
  use prelude.prelude.UIntSize
  
  type t_Cap'0  =
    { t_Cap__0'0: usize }
  
  type t_RawVec'0  =
    { t_RawVec__ptr'0: t_Unique'0; t_RawVec__cap'0: t_Cap'0; t_RawVec__alloc'0: () }
  
  type t_Vec'0  =
    { t_Vec__buf'0: t_RawVec'0; t_Vec__len'0: usize }
  
  type t_Memory'0  =
    { t_Memory__0'0: t_Vec'0 }
  
  predicate inv'0 (_1 : borrowed (t_Vec'0))
  
  axiom inv_axiom'0 [@rewrite] : forall x : borrowed (t_Vec'0) [inv'0 x] . inv'0 x = true
  
  predicate inv'1 (_1 : usize)
  
  axiom inv_axiom'1 [@rewrite] : forall x : usize [inv'1 x] . inv'1 x = true
  
  use seq.Seq
  
  use seq.Seq
  
  constant v_MAX'0 : usize = (18446744073709551615 : usize)
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  function view'0 (self : t_Vec'0) : Seq.seq usize
  
  axiom view'0_spec : forall self : t_Vec'0 . [%#svec12] Seq.length (view'0 self) <= UIntSize.to_int (v_MAX'0 : usize)
  
  function view'1 (self : borrowed (t_Vec'0)) : Seq.seq usize =
    [%#smodel13] view'0 self.current
  
  predicate in_bounds'0 [@inline:trivial] (self : usize) (seq : Seq.seq usize) =
    [%#sslice14] UIntSize.to_int self < Seq.length seq
  
  predicate inv'2 (_1 : borrowed usize)
  
  axiom inv_axiom'2 [@rewrite] : forall x : borrowed usize [inv'2 x] . inv'2 x = true
  
  use seq.Seq
  
  predicate has_value'0 [@inline:trivial] (self : usize) (seq : Seq.seq usize) (out : usize) =
    [%#sslice15] Seq.get seq (UIntSize.to_int self) = out
  
  predicate resolve_elswhere'0 [@inline:trivial] (self : usize) (old' : Seq.seq usize) (fin : Seq.seq usize) =
    [%#sslice16] forall i : int . 0 <= i /\ i <> UIntSize.to_int self /\ i < Seq.length old'
     -> Seq.get old' i = Seq.get fin i
  
  let rec index_mut'1 (self:borrowed (t_Vec'0)) (index:usize) (return'  (ret:borrowed usize))= {[@expl:index_mut 'self' type invariant] inv'0 self}
    {[@expl:index_mut 'index' type invariant] inv'1 index}
    {[@expl:index_mut requires] [%#svec5] in_bounds'0 index (view'1 self)}
    any
    [ return' (result:borrowed usize)-> {inv'2 result}
      {[%#svec6] has_value'0 index (view'1 self) result.current}
      {[%#svec7] has_value'0 index (view'0 self.final) result.final}
      {[%#svec8] resolve_elswhere'0 index (view'1 self) (view'0 self.final)}
      {[%#svec9] Seq.length (view'0 self.final) = Seq.length (view'1 self)}
      (! return' {result}) ]
    
  
  predicate resolve'2 (self : borrowed usize) =
    [%#sresolve17] self.final = self.current
  
  predicate resolve'0 (_1 : borrowed usize) =
    resolve'2 _1
  
  predicate resolve'3 (self : borrowed (t_Memory'0)) =
    [%#sresolve17] self.final = self.current
  
  predicate resolve'1 (_1 : borrowed (t_Memory'0)) =
    resolve'3 _1
  
  use prelude.prelude.Intrinsic
  
  predicate nonnull_ptr'0 [#"list_reversal_lasso.rs" 49 4 49 44] (self : t_Memory'0) (i : usize) =
    [%#slist_reversal_lasso10] Seq.length (view'0 self.t_Memory__0'0) <= UIntSize.to_int (v_MAX'0 : usize)
    /\ UIntSize.to_int i < Seq.length (view'0 self.t_Memory__0'0)
  
  function index_logic'1 [@inline:trivial] (self : t_Vec'0) (ix : usize) : usize =
    [%#sops18] Seq.get (view'0 self) (UIntSize.to_int ix)
  
  function index_logic'0 [#"list_reversal_lasso.rs" 20 4 20 39] (self : t_Memory'0) (i : usize) : usize =
    [%#slist_reversal_lasso11] index_logic'1 self.t_Memory__0'0 i
  
  meta "compute_max_steps" 1000000
  
  let rec index_mut'0 (self:borrowed (t_Memory'0)) (i:usize) (return'  (ret:borrowed usize))= {[@expl:index_mut requires] [%#slist_reversal_lasso0] nonnull_ptr'0 self.current i}
    (! bb0
    [ bb0 = s0
      [ s0 = Borrow.borrow_final <t_Vec'0> {(self.current).t_Memory__0'0} {Borrow.inherit_id (Borrow.get_id self) 1}
          (fun (_ret':borrowed (t_Vec'0)) ->
             [ &_11 <- _ret' ] 
             [ &self <- { self with current = { t_Memory__0'0 = _ret'.final } } ] 
            s1)
      | s1 = index_mut'1 {_11} {i} (fun (_ret':borrowed usize) ->  [ &_10 <- _ret' ] s2)
      | s2 = bb1 ]
      
    | bb1 = s0
      [ s0 = Borrow.borrow_final <usize> {_10.current} {Borrow.get_id _10}
          (fun (_ret':borrowed usize) ->  [ &_9 <- _ret' ]  [ &_10 <- { _10 with current = _ret'.final } ] s1)
      | s1 = Borrow.borrow_final <usize> {_9.current} {Borrow.get_id _9}
          (fun (_ret':borrowed usize) ->  [ &_3 <- _ret' ]  [ &_9 <- { _9 with current = _ret'.final } ] s2)
      | s2 = Borrow.borrow_final <usize> {_3.current} {Borrow.get_id _3}
          (fun (_ret':borrowed usize) ->  [ &_0 <- _ret' ]  [ &_3 <- { _3 with current = _ret'.final } ] s3)
      | s3 = -{resolve'0 _10}- s4
      | s4 = -{resolve'0 _9}- s5
      | s5 = -{resolve'0 _3}- s6
      | s6 = -{resolve'1 self}- s7
      | s7 = return' {_0} ]
       ]
    )
    [ & _0 : borrowed usize = any_l ()
    | & self : borrowed (t_Memory'0) = self
    | & i : usize = i
    | & _3 : borrowed usize = any_l ()
    | & _9 : borrowed usize = any_l ()
    | & _10 : borrowed usize = any_l ()
    | & _11 : borrowed (t_Vec'0) = any_l () ]
    
    [ return' (result:borrowed usize)-> {[@expl:index_mut ensures #0] [%#slist_reversal_lasso1] result.current
      = index_logic'0 self.current i}
      {[@expl:index_mut ensures #1] [%#slist_reversal_lasso2] result.final = index_logic'0 self.final i}
      {[@expl:index_mut ensures #2] [%#slist_reversal_lasso3] Seq.length (view'0 (self.current).t_Memory__0'0)
      = Seq.length (view'0 (self.final).t_Memory__0'0)}
      {[@expl:index_mut ensures #3] [%#slist_reversal_lasso4] forall j : usize . nonnull_ptr'0 self.current j /\ i <> j
       -> index_logic'0 self.final j = index_logic'0 self.current j}
      (! return' {result}) ]
    
end
module M_list_reversal_lasso__qyi2644757663130641572__list_reversal_safe [#"list_reversal_lasso.rs" 65 4 65 59] (* Memory *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 66 20 66 24
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 70 20 70 45
  let%span slist_reversal_lasso2 = "list_reversal_lasso.rs" 69 20 69 52
  let%span slist_reversal_lasso3 = "list_reversal_lasso.rs" 68 20 68 52
  let%span slist_reversal_lasso4 = "list_reversal_lasso.rs" 71 19 71 23
  let%span slist_reversal_lasso5 = "list_reversal_lasso.rs" 63 15 63 40
  let%span slist_reversal_lasso6 = "list_reversal_lasso.rs" 64 15 64 47
  let%span slist_reversal_lasso7 = "list_reversal_lasso.rs" 57 12 57 95
  let%span slist_reversal_lasso8 = "list_reversal_lasso.rs" 13 0 13 15
  let%span slist_reversal_lasso9 = "list_reversal_lasso.rs" 50 20 50 70
  let%span slist_reversal_lasso10 = "list_reversal_lasso.rs" 28 15 28 34
  let%span slist_reversal_lasso11 = "list_reversal_lasso.rs" 29 14 29 44
  let%span slist_reversal_lasso12 = "list_reversal_lasso.rs" 36 15 36 34
  let%span slist_reversal_lasso13 = "list_reversal_lasso.rs" 37 14 37 47
  let%span slist_reversal_lasso14 = "list_reversal_lasso.rs" 38 14 38 47
  let%span slist_reversal_lasso15 = "list_reversal_lasso.rs" 39 14 39 47
  let%span slist_reversal_lasso16 = "list_reversal_lasso.rs" 40 14 40 111
  let%span slist_reversal_lasso17 = "list_reversal_lasso.rs" 21 8 21 31
  let%span svec18 = "../../../creusot-contracts/src/std/vec.rs" 18 14 18 41
  let%span sresolve19 = "../../../creusot-contracts/src/resolve.rs" 54 20 54 34
  let%span sops20 = "../../../creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Opaque
  
  type t_NonNull'0  =
    { t_NonNull__pointer'0: opaque_ptr }
  
  type t_Unique'0  =
    { t_Unique__pointer'0: t_NonNull'0; t_Unique__qy95zmarker'0: () }
  
  type t_Cap'0  =
    { t_Cap__0'0: usize }
  
  type t_RawVec'0  =
    { t_RawVec__ptr'0: t_Unique'0; t_RawVec__cap'0: t_Cap'0; t_RawVec__alloc'0: () }
  
  type t_Vec'0  =
    { t_Vec__buf'0: t_RawVec'0; t_Vec__len'0: usize }
  
  type t_Memory'0  =
    { t_Memory__0'0: t_Vec'0 }
  
  use seq.Seq
  
  constant v_MAX'0 : usize = (18446744073709551615 : usize)
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use seq.Seq
  
  function view'0 (self : t_Vec'0) : Seq.seq usize
  
  axiom view'0_spec : forall self : t_Vec'0 . [%#svec18] Seq.length (view'0 self) <= UIntSize.to_int (v_MAX'0 : usize)
  
  predicate nonnull_ptr'0 [#"list_reversal_lasso.rs" 49 4 49 44] (self : t_Memory'0) (i : usize) =
    [%#slist_reversal_lasso9] Seq.length (view'0 self.t_Memory__0'0) <= UIntSize.to_int (v_MAX'0 : usize)
    /\ UIntSize.to_int i < Seq.length (view'0 self.t_Memory__0'0)
  
  use seq.Seq
  
  function index_logic'1 [@inline:trivial] (self : t_Vec'0) (ix : usize) : usize =
    [%#sops20] Seq.get (view'0 self) (UIntSize.to_int ix)
  
  function index_logic'0 [#"list_reversal_lasso.rs" 20 4 20 39] (self : t_Memory'0) (i : usize) : usize =
    [%#slist_reversal_lasso17] index_logic'1 self.t_Memory__0'0 i
  
  constant v_NULL'0 : usize = [%#slist_reversal_lasso8] (18446744073709551615 : usize)
  
  predicate mem_is_well_formed'0 [#"list_reversal_lasso.rs" 55 4 55 43] (self : t_Memory'0) =
    [%#slist_reversal_lasso7] forall i : usize . nonnull_ptr'0 self i
     -> index_logic'0 self i = v_NULL'0 \/ nonnull_ptr'0 self (index_logic'0 self i)
  
  use prelude.prelude.Snapshot
  
  let rec index'0 (self:t_Memory'0) (i:usize) (return'  (ret:usize))= {[@expl:index requires] [%#slist_reversal_lasso10] nonnull_ptr'0 self i}
    any [ return' (result:usize)-> {[%#slist_reversal_lasso11] result = index_logic'0 self i} (! return' {result}) ] 
  
  let rec index_mut'0 (self:borrowed (t_Memory'0)) (i:usize) (return'  (ret:borrowed usize))= {[@expl:index_mut requires] [%#slist_reversal_lasso12] nonnull_ptr'0 self.current i}
    any
    [ return' (result:borrowed usize)-> {[%#slist_reversal_lasso13] result.current = index_logic'0 self.current i}
      {[%#slist_reversal_lasso14] result.final = index_logic'0 self.final i}
      {[%#slist_reversal_lasso15] Seq.length (view'0 (self.current).t_Memory__0'0)
      = Seq.length (view'0 (self.final).t_Memory__0'0)}
      {[%#slist_reversal_lasso16] forall j : usize . nonnull_ptr'0 self.current j /\ i <> j
       -> index_logic'0 self.final j = index_logic'0 self.current j}
      (! return' {result}) ]
    
  
  predicate resolve'2 (self : borrowed usize) =
    [%#sresolve19] self.final = self.current
  
  predicate resolve'0 (_1 : borrowed usize) =
    resolve'2 _1
  
  predicate resolve'3 (self : borrowed (t_Memory'0)) =
    [%#sresolve19] self.final = self.current
  
  predicate resolve'1 (_1 : borrowed (t_Memory'0)) =
    resolve'3 _1
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Snapshot
  
  meta "compute_max_steps" 1000000
  
  let rec list_reversal_safe'0 (self:borrowed (t_Memory'0)) (l:usize) (return'  (ret:usize))= {[@expl:list_reversal_safe requires #0] [%#slist_reversal_lasso5] mem_is_well_formed'0 self.current}
    {[@expl:list_reversal_safe requires #1] [%#slist_reversal_lasso6] l = v_NULL'0 \/ nonnull_ptr'0 self.current l}
    (! bb0
    [ bb0 = s0
      [ s0 =  [ &r <- [%#slist_reversal_lasso0] (18446744073709551615 : usize) ] s1
      | s1 =  [ &old_1_0 <- Snapshot.new self ] s2
      | s2 = bb1 ]
      
    | bb1 = bb1
      [ bb1 = {[@expl:mut invariant] (Snapshot.inner old_1_0).final = self.final}
        {[@expl:loop invariant #0] [%#slist_reversal_lasso3] r = v_NULL'0 \/ nonnull_ptr'0 self.current r}
        {[@expl:loop invariant #1] [%#slist_reversal_lasso2] l = v_NULL'0 \/ nonnull_ptr'0 self.current l}
        {[@expl:loop invariant #2] [%#slist_reversal_lasso1] mem_is_well_formed'0 self.current}
        (! s0) [ s0 = bb2 ] 
        [ bb2 = s0
          [ s0 = UIntSize.ne {l} {[%#slist_reversal_lasso4] (18446744073709551615 : usize)}
              (fun (_ret':bool) ->  [ &_12 <- _ret' ] s1)
          | s1 = any [ br0 -> {_12 = false} (! bb6) | br1 -> {_12} (! bb3) ]  ]
          
        | bb3 = s0
          [ s0 =  [ &tmp <- l ] s1
          | s1 = index'0 {self.current} {l} (fun (_ret':usize) ->  [ &_16 <- _ret' ] s2)
          | s2 = bb4 ]
          
        | bb4 = s0
          [ s0 =  [ &l <- _16 ] s1
          | s1 = Borrow.borrow_mut <t_Memory'0> {self.current}
              (fun (_ret':borrowed (t_Memory'0)) ->
                 [ &_21 <- _ret' ] 
                 [ &self <- { self with current = _ret'.final } ] 
                s2)
          | s2 = index_mut'0 {_21} {tmp} (fun (_ret':borrowed usize) ->  [ &_20 <- _ret' ] s3)
          | s3 = bb5 ]
          
        | bb5 = s0
          [ s0 =  [ &_20 <- { _20 with current = r } ] s1
          | s1 = -{resolve'0 _20}- s2
          | s2 =  [ &r <- tmp ] s3
          | s3 = bb1 ]
           ]
         ]
      
    | bb6 = s0 [ s0 = -{resolve'1 self}- s1 | s1 =  [ &_0 <- r ] s2 | s2 = return' {_0} ]  ]
    )
    [ & _0 : usize = any_l ()
    | & self : borrowed (t_Memory'0) = self
    | & l : usize = l
    | & r : usize = any_l ()
    | & _12 : bool = any_l ()
    | & tmp : usize = any_l ()
    | & _16 : usize = any_l ()
    | & _20 : borrowed usize = any_l ()
    | & _21 : borrowed (t_Memory'0) = any_l ()
    | & old_1_0 : Snapshot.snap_ty (borrowed (t_Memory'0)) = any_l () ]
     [ return' (result:usize)-> (! return' {result}) ] 
end
module M_list_reversal_lasso__qyi2644757663130641572__list_reversal_list [#"list_reversal_lasso.rs" 99 4 99 82] (* Memory *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 100 20 100 24
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 101 20 101 35
  let%span slist_reversal_lasso2 = "list_reversal_lasso.rs" 105 20 105 76
  let%span slist_reversal_lasso3 = "list_reversal_lasso.rs" 104 20 104 59
  let%span slist_reversal_lasso4 = "list_reversal_lasso.rs" 103 20 103 44
  let%span slist_reversal_lasso5 = "list_reversal_lasso.rs" 107 19 107 23
  let%span slist_reversal_lasso6 = "list_reversal_lasso.rs" 109 16 109 36
  let%span slist_reversal_lasso7 = "list_reversal_lasso.rs" 97 15 97 31
  let%span slist_reversal_lasso8 = "list_reversal_lasso.rs" 98 14 98 47
  let%span slist_reversal_lasso9 = "list_reversal_lasso.rs" 13 0 13 15
  let%span slist_reversal_lasso10 = "list_reversal_lasso.rs" 83 12 85 98
  let%span slist_reversal_lasso11 = "list_reversal_lasso.rs" 36 15 36 34
  let%span slist_reversal_lasso12 = "list_reversal_lasso.rs" 37 14 37 47
  let%span slist_reversal_lasso13 = "list_reversal_lasso.rs" 38 14 38 47
  let%span slist_reversal_lasso14 = "list_reversal_lasso.rs" 39 14 39 47
  let%span slist_reversal_lasso15 = "list_reversal_lasso.rs" 40 14 40 111
  let%span smem16 = "../../../creusot-contracts/src/std/mem.rs" 8 22 8 34
  let%span smem17 = "../../../creusot-contracts/src/std/mem.rs" 9 22 9 37
  let%span slist_reversal_lasso18 = "list_reversal_lasso.rs" 93 12 93 53
  let%span slist_reversal_lasso19 = "list_reversal_lasso.rs" 50 20 50 70
  let%span slist_reversal_lasso20 = "list_reversal_lasso.rs" 21 8 21 31
  let%span svec21 = "../../../creusot-contracts/src/std/vec.rs" 18 14 18 41
  let%span sresolve22 = "../../../creusot-contracts/src/resolve.rs" 54 20 54 34
  let%span sops23 = "../../../creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Borrow
  
  use prelude.prelude.Snapshot
  
  use seq.Reverse
  
  constant v_NULL'0 : usize = [%#slist_reversal_lasso9] (18446744073709551615 : usize)
  
  use seq.Seq
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Int
  
  use prelude.prelude.Opaque
  
  type t_NonNull'0  =
    { t_NonNull__pointer'0: opaque_ptr }
  
  type t_Unique'0  =
    { t_Unique__pointer'0: t_NonNull'0; t_Unique__qy95zmarker'0: () }
  
  type t_Cap'0  =
    { t_Cap__0'0: usize }
  
  type t_RawVec'0  =
    { t_RawVec__ptr'0: t_Unique'0; t_RawVec__cap'0: t_Cap'0; t_RawVec__alloc'0: () }
  
  type t_Vec'0  =
    { t_Vec__buf'0: t_RawVec'0; t_Vec__len'0: usize }
  
  type t_Memory'0  =
    { t_Memory__0'0: t_Vec'0 }
  
  use seq.Seq
  
  use seq.Seq
  
  constant v_MAX'0 : usize = (18446744073709551615 : usize)
  
  use prelude.prelude.UIntSize
  
  function view'0 (self : t_Vec'0) : Seq.seq usize
  
  axiom view'0_spec : forall self : t_Vec'0 . [%#svec21] Seq.length (view'0 self) <= UIntSize.to_int (v_MAX'0 : usize)
  
  predicate nonnull_ptr'0 [#"list_reversal_lasso.rs" 49 4 49 44] (self : t_Memory'0) (i : usize) =
    [%#slist_reversal_lasso19] Seq.length (view'0 self.t_Memory__0'0) <= UIntSize.to_int (v_MAX'0 : usize)
    /\ UIntSize.to_int i < Seq.length (view'0 self.t_Memory__0'0)
  
  function index_logic'1 [@inline:trivial] (self : t_Vec'0) (ix : usize) : usize =
    [%#sops23] Seq.get (view'0 self) (UIntSize.to_int ix)
  
  function index_logic'0 [#"list_reversal_lasso.rs" 20 4 20 39] (self : t_Memory'0) (i : usize) : usize =
    [%#slist_reversal_lasso20] index_logic'1 self.t_Memory__0'0 i
  
  predicate list_seg'0 [#"list_reversal_lasso.rs" 81 4 81 81] (self : t_Memory'0) (first : usize) (s : Seq.seq usize) (last : usize) (l : int) (h : int)
    
   =
    [%#slist_reversal_lasso10] first = (if h = l then last else Seq.get s l)
    /\ (forall i : int . l <= i /\ i < h
     -> nonnull_ptr'0 self (Seq.get s i)
    /\ index_logic'0 self (Seq.get s i) = (if i = h - 1 then last else Seq.get s (i + 1)))
    /\ (forall i : int, j : int . l <= i /\ i < h /\ l <= j /\ j < h /\ i <> j  -> Seq.get s i <> Seq.get s j)
  
  use prelude.prelude.Snapshot
  
  let rec index_mut'0 (self:borrowed (t_Memory'0)) (i:usize) (return'  (ret:borrowed usize))= {[@expl:index_mut requires] [%#slist_reversal_lasso11] nonnull_ptr'0 self.current i}
    any
    [ return' (result:borrowed usize)-> {[%#slist_reversal_lasso12] result.current = index_logic'0 self.current i}
      {[%#slist_reversal_lasso13] result.final = index_logic'0 self.final i}
      {[%#slist_reversal_lasso14] Seq.length (view'0 (self.current).t_Memory__0'0)
      = Seq.length (view'0 (self.final).t_Memory__0'0)}
      {[%#slist_reversal_lasso15] forall j : usize . nonnull_ptr'0 self.current j /\ i <> j
       -> index_logic'0 self.final j = index_logic'0 self.current j}
      (! return' {result}) ]
    
  
  predicate inv'0 (_1 : borrowed usize)
  
  axiom inv_axiom'0 [@rewrite] : forall x : borrowed usize [inv'0 x] . inv'0 x = true
  
  predicate inv'1 (_1 : usize)
  
  axiom inv_axiom'1 [@rewrite] : forall x : usize [inv'1 x] . inv'1 x = true
  
  let rec replace'0 (dest:borrowed usize) (src:usize) (return'  (ret:usize))= {[@expl:replace 'dest' type invariant] inv'0 dest}
    {[@expl:replace 'src' type invariant] inv'1 src}
    any
    [ return' (result:usize)-> {inv'1 result}
      {[%#smem16] dest.final = src}
      {[%#smem17] result = dest.current}
      (! return' {result}) ]
    
  
  predicate resolve'2 (self : borrowed usize) =
    [%#sresolve22] self.final = self.current
  
  predicate resolve'0 (_1 : borrowed usize) =
    resolve'2 _1
  
  predicate resolve'3 (self : borrowed (t_Memory'0)) =
    [%#sresolve22] self.final = self.current
  
  predicate resolve'1 (_1 : borrowed (t_Memory'0)) =
    resolve'3 _1
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  predicate list'0 [#"list_reversal_lasso.rs" 91 4 91 54] (self : t_Memory'0) (first : usize) (s : Seq.seq usize) =
    [%#slist_reversal_lasso18] list_seg'0 self first s v_NULL'0 0 (Seq.length s)
  
  meta "compute_max_steps" 1000000
  
  let rec list_reversal_list'0 (self:borrowed (t_Memory'0)) (l:usize) (s:Snapshot.snap_ty (Seq.seq usize)) (return'  (ret:usize))= {[@expl:list_reversal_list requires] [%#slist_reversal_lasso7] list'0 self.current l (Snapshot.inner s)}
    (! bb0
    [ bb0 = s0
      [ s0 =  [ &r <- [%#slist_reversal_lasso0] (18446744073709551615 : usize) ] s1
      | s1 =  [ &n <- [%#slist_reversal_lasso1] Snapshot.new 0 ] s2
      | s2 = bb1 ]
      
    | bb1 = s0 [ s0 =  [ &old_2_0 <- Snapshot.new self ] s1 | s1 = bb2 ] 
    | bb2 = bb2
      [ bb2 = {[@expl:mut invariant] (Snapshot.inner old_2_0).final = self.final}
        {[@expl:loop invariant #0] [%#slist_reversal_lasso4] 0 <= Snapshot.inner n
        /\ Snapshot.inner n <= Seq.length (Snapshot.inner s)}
        {[@expl:loop invariant #1] [%#slist_reversal_lasso3] list_seg'0 self.current l (Snapshot.inner s) v_NULL'0 (Snapshot.inner n) (Seq.length (Snapshot.inner s))}
        {[@expl:loop invariant #2] [%#slist_reversal_lasso2] list_seg'0 self.current r (Reverse.reverse (Snapshot.inner s)) v_NULL'0 (Seq.length (Snapshot.inner s)
        - Snapshot.inner n) (Seq.length (Snapshot.inner s))}
        (! s0) [ s0 = bb3 ] 
        [ bb3 = s0
          [ s0 = UIntSize.ne {l} {[%#slist_reversal_lasso5] (18446744073709551615 : usize)}
              (fun (_ret':bool) ->  [ &_15 <- _ret' ] s1)
          | s1 = any [ br0 -> {_15 = false} (! bb9) | br1 -> {_15} (! bb4) ]  ]
          
        | bb4 = s0
          [ s0 = Borrow.borrow_mut <t_Memory'0> {self.current}
              (fun (_ret':borrowed (t_Memory'0)) ->
                 [ &_21 <- _ret' ] 
                 [ &self <- { self with current = _ret'.final } ] 
                s1)
          | s1 = index_mut'0 {_21} {l} (fun (_ret':borrowed usize) ->  [ &_20 <- _ret' ] s2)
          | s2 = bb5 ]
          
        | bb5 = s0
          [ s0 = Borrow.borrow_final <usize> {_20.current} {Borrow.get_id _20}
              (fun (_ret':borrowed usize) ->  [ &_19 <- _ret' ]  [ &_20 <- { _20 with current = _ret'.final } ] s1)
          | s1 = Borrow.borrow_final <usize> {_19.current} {Borrow.get_id _19}
              (fun (_ret':borrowed usize) ->  [ &_18 <- _ret' ]  [ &_19 <- { _19 with current = _ret'.final } ] s2)
          | s2 = Borrow.borrow_mut <usize> {r}
              (fun (_ret':borrowed usize) ->  [ &_25 <- _ret' ]  [ &r <- _ret'.final ] s3)
          | s3 = Borrow.borrow_final <usize> {_25.current} {Borrow.get_id _25}
              (fun (_ret':borrowed usize) ->  [ &_24 <- _ret' ]  [ &_25 <- { _25 with current = _ret'.final } ] s4)
          | s4 = replace'0 {_24} {l} (fun (_ret':usize) ->  [ &_23 <- _ret' ] s5)
          | s5 = bb6 ]
          
        | bb6 = s0
          [ s0 = -{resolve'0 _25}- s1
          | s1 = replace'0 {_18} {_23} (fun (_ret':usize) ->  [ &_17 <- _ret' ] s2)
          | s2 = bb7 ]
          
        | bb7 = s0
          [ s0 = -{resolve'0 _20}- s1
          | s1 = -{resolve'0 _19}- s2
          | s2 =  [ &l <- _17 ] s3
          | s3 =  [ &_27 <- [%#slist_reversal_lasso6] Snapshot.new (Snapshot.inner n + 1) ] s4
          | s4 = bb8 ]
          
        | bb8 = s0 [ s0 =  [ &n <- _27 ] s1 | s1 = bb2 ]  ]
         ]
      
    | bb9 = s0 [ s0 = -{resolve'1 self}- s1 | s1 =  [ &_0 <- r ] s2 | s2 = return' {_0} ]  ]
    )
    [ & _0 : usize = any_l ()
    | & self : borrowed (t_Memory'0) = self
    | & l : usize = l
    | & s : Snapshot.snap_ty (Seq.seq usize) = s
    | & r : usize = any_l ()
    | & n : Snapshot.snap_ty int = any_l ()
    | & _15 : bool = any_l ()
    | & _17 : usize = any_l ()
    | & _18 : borrowed usize = any_l ()
    | & _19 : borrowed usize = any_l ()
    | & _20 : borrowed usize = any_l ()
    | & _21 : borrowed (t_Memory'0) = any_l ()
    | & _23 : usize = any_l ()
    | & _24 : borrowed usize = any_l ()
    | & _25 : borrowed usize = any_l ()
    | & _27 : Snapshot.snap_ty int = any_l ()
    | & old_2_0 : Snapshot.snap_ty (borrowed (t_Memory'0)) = any_l () ]
    
    [ return' (result:usize)-> {[@expl:list_reversal_list ensures] [%#slist_reversal_lasso8] list'0 self.final result (Reverse.reverse (Snapshot.inner s))}
      (! return' {result}) ]
    
end
module M_list_reversal_lasso__qyi2644757663130641572__list_reversal_loop [#"list_reversal_lasso.rs" 125 4 125 82] (* Memory *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 126 20 126 24
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 127 20 127 35
  let%span slist_reversal_lasso2 = "list_reversal_lasso.rs" 135 20 135 94
  let%span slist_reversal_lasso3 = "list_reversal_lasso.rs" 134 20 134 77
  let%span slist_reversal_lasso4 = "list_reversal_lasso.rs" 130 20 133 72
  let%span slist_reversal_lasso5 = "list_reversal_lasso.rs" 129 20 129 48
  let%span slist_reversal_lasso6 = "list_reversal_lasso.rs" 137 19 137 23
  let%span slist_reversal_lasso7 = "list_reversal_lasso.rs" 138 28 138 75
  let%span slist_reversal_lasso8 = "list_reversal_lasso.rs" 140 16 140 36
  let%span slist_reversal_lasso9 = "list_reversal_lasso.rs" 143 24 145 52
  let%span slist_reversal_lasso10 = "list_reversal_lasso.rs" 122 15 122 26
  let%span slist_reversal_lasso11 = "list_reversal_lasso.rs" 123 15 123 32
  let%span slist_reversal_lasso12 = "list_reversal_lasso.rs" 124 14 124 89
  let%span slist_reversal_lasso13 = "list_reversal_lasso.rs" 13 0 13 15
  let%span slist_reversal_lasso14 = "list_reversal_lasso.rs" 83 12 85 98
  let%span sops15 = "../../../creusot-contracts/src/logic/ops.rs" 86 8 86 33
  let%span slist_reversal_lasso16 = "list_reversal_lasso.rs" 50 20 50 70
  let%span slist_reversal_lasso17 = "list_reversal_lasso.rs" 21 8 21 31
  let%span slist_reversal_lasso18 = "list_reversal_lasso.rs" 36 15 36 34
  let%span slist_reversal_lasso19 = "list_reversal_lasso.rs" 37 14 37 47
  let%span slist_reversal_lasso20 = "list_reversal_lasso.rs" 38 14 38 47
  let%span slist_reversal_lasso21 = "list_reversal_lasso.rs" 39 14 39 47
  let%span slist_reversal_lasso22 = "list_reversal_lasso.rs" 40 14 40 111
  let%span smem23 = "../../../creusot-contracts/src/std/mem.rs" 8 22 8 34
  let%span smem24 = "../../../creusot-contracts/src/std/mem.rs" 9 22 9 37
  let%span sseq25 = "../../../creusot-contracts/src/logic/seq.rs" 143 8 143 27
  let%span slist_reversal_lasso26 = "list_reversal_lasso.rs" 118 12 118 53
  let%span svec27 = "../../../creusot-contracts/src/std/vec.rs" 18 14 18 41
  let%span sops28 = "../../../creusot-contracts/src/logic/ops.rs" 31 8 31 32
  let%span sresolve29 = "../../../creusot-contracts/src/resolve.rs" 54 20 54 34
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use seq.Seq
  
  use prelude.prelude.Int
  
  use prelude.prelude.Borrow
  
  use seq.Reverse
  
  constant v_NULL'0 : usize = [%#slist_reversal_lasso13] (18446744073709551615 : usize)
  
  use prelude.prelude.Opaque
  
  type t_NonNull'0  =
    { t_NonNull__pointer'0: opaque_ptr }
  
  type t_Unique'0  =
    { t_Unique__pointer'0: t_NonNull'0; t_Unique__qy95zmarker'0: () }
  
  type t_Cap'0  =
    { t_Cap__0'0: usize }
  
  type t_RawVec'0  =
    { t_RawVec__ptr'0: t_Unique'0; t_RawVec__cap'0: t_Cap'0; t_RawVec__alloc'0: () }
  
  type t_Vec'0  =
    { t_Vec__buf'0: t_RawVec'0; t_Vec__len'0: usize }
  
  type t_Memory'0  =
    { t_Memory__0'0: t_Vec'0 }
  
  use seq.Seq
  
  use seq.Seq
  
  constant v_MAX'0 : usize = (18446744073709551615 : usize)
  
  use prelude.prelude.UIntSize
  
  function view'0 (self : t_Vec'0) : Seq.seq usize
  
  axiom view'0_spec : forall self : t_Vec'0 . [%#svec27] Seq.length (view'0 self) <= UIntSize.to_int (v_MAX'0 : usize)
  
  predicate nonnull_ptr'0 [#"list_reversal_lasso.rs" 49 4 49 44] (self : t_Memory'0) (i : usize) =
    [%#slist_reversal_lasso16] Seq.length (view'0 self.t_Memory__0'0) <= UIntSize.to_int (v_MAX'0 : usize)
    /\ UIntSize.to_int i < Seq.length (view'0 self.t_Memory__0'0)
  
  function index_logic'2 [@inline:trivial] (self : t_Vec'0) (ix : usize) : usize =
    [%#sops28] Seq.get (view'0 self) (UIntSize.to_int ix)
  
  function index_logic'1 [#"list_reversal_lasso.rs" 20 4 20 39] (self : t_Memory'0) (i : usize) : usize =
    [%#slist_reversal_lasso17] index_logic'2 self.t_Memory__0'0 i
  
  predicate list_seg'0 [#"list_reversal_lasso.rs" 81 4 81 81] (self : t_Memory'0) (first : usize) (s : Seq.seq usize) (last : usize) (l : int) (h : int)
    
   =
    [%#slist_reversal_lasso14] first = (if h = l then last else Seq.get s l)
    /\ (forall i : int . l <= i /\ i < h
     -> nonnull_ptr'0 self (Seq.get s i)
    /\ index_logic'1 self (Seq.get s i) = (if i = h - 1 then last else Seq.get s (i + 1)))
    /\ (forall i : int, j : int . l <= i /\ i < h /\ l <= j /\ j < h /\ i <> j  -> Seq.get s i <> Seq.get s j)
  
  use prelude.prelude.Snapshot
  
  function index_logic'0 [@inline:trivial] (self : Snapshot.snap_ty (Seq.seq usize)) (ix : int) : usize =
    [%#sops15] Seq.get (Snapshot.inner self) ix
  
  use prelude.prelude.Snapshot
  
  let rec index_mut'0 (self:borrowed (t_Memory'0)) (i:usize) (return'  (ret:borrowed usize))= {[@expl:index_mut requires] [%#slist_reversal_lasso18] nonnull_ptr'0 self.current i}
    any
    [ return' (result:borrowed usize)-> {[%#slist_reversal_lasso19] result.current = index_logic'1 self.current i}
      {[%#slist_reversal_lasso20] result.final = index_logic'1 self.final i}
      {[%#slist_reversal_lasso21] Seq.length (view'0 (self.current).t_Memory__0'0)
      = Seq.length (view'0 (self.final).t_Memory__0'0)}
      {[%#slist_reversal_lasso22] forall j : usize . nonnull_ptr'0 self.current j /\ i <> j
       -> index_logic'1 self.final j = index_logic'1 self.current j}
      (! return' {result}) ]
    
  
  predicate inv'0 (_1 : borrowed usize)
  
  axiom inv_axiom'0 [@rewrite] : forall x : borrowed usize [inv'0 x] . inv'0 x = true
  
  predicate inv'1 (_1 : usize)
  
  axiom inv_axiom'1 [@rewrite] : forall x : usize [inv'1 x] . inv'1 x = true
  
  let rec replace'0 (dest:borrowed usize) (src:usize) (return'  (ret:usize))= {[@expl:replace 'dest' type invariant] inv'0 dest}
    {[@expl:replace 'src' type invariant] inv'1 src}
    any
    [ return' (result:usize)-> {inv'1 result}
      {[%#smem23] dest.final = src}
      {[%#smem24] result = dest.current}
      (! return' {result}) ]
    
  
  predicate resolve'2 (self : borrowed usize) =
    [%#sresolve29] self.final = self.current
  
  predicate resolve'0 (_1 : borrowed usize) =
    resolve'2 _1
  
  predicate resolve'3 (self : borrowed (t_Memory'0)) =
    [%#sresolve29] self.final = self.current
  
  predicate resolve'1 (_1 : borrowed (t_Memory'0)) =
    resolve'3 _1
  
  use seq.Seq
  
  use seq.Seq
  
  function push_front'0 [@inline:trivial] (self : Seq.seq usize) (x : usize) : Seq.seq usize =
    [%#sseq25] Seq.cons x self
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  predicate loopqy95z'0 [#"list_reversal_lasso.rs" 116 4 116 55] (self : t_Memory'0) (first : usize) (s : Seq.seq usize)
   =
    [%#slist_reversal_lasso26] list_seg'0 self first s (Seq.get s 0) 0 (Seq.length s)
  
  meta "compute_max_steps" 1000000
  
  let rec list_reversal_loop'0 (self:borrowed (t_Memory'0)) (l:usize) (s:Snapshot.snap_ty (Seq.seq usize)) (return'  (ret:usize))= {[@expl:list_reversal_loop requires #0] [%#slist_reversal_lasso10] Seq.length (Snapshot.inner s)
    > 0}
    {[@expl:list_reversal_loop requires #1] [%#slist_reversal_lasso11] loopqy95z'0 self.current l (Snapshot.inner s)}
    (! bb0
    [ bb0 = s0
      [ s0 =  [ &r <- [%#slist_reversal_lasso0] (18446744073709551615 : usize) ] s1
      | s1 =  [ &n <- [%#slist_reversal_lasso1] Snapshot.new 0 ] s2
      | s2 = bb1 ]
      
    | bb1 = s0 [ s0 =  [ &old_2_0 <- Snapshot.new self ] s1 | s1 = bb2 ] 
    | bb2 = bb2
      [ bb2 = {[@expl:mut invariant] (Snapshot.inner old_2_0).final = self.final}
        {[@expl:loop invariant #0] [%#slist_reversal_lasso5] 0 <= Snapshot.inner n
        /\ Snapshot.inner n <= Seq.length (Snapshot.inner s) + 1}
        {[@expl:loop invariant #1] [%#slist_reversal_lasso4] Snapshot.inner n = Seq.length (Snapshot.inner s) + 1
         -> l = v_NULL'0
        /\ r = index_logic'0 s 0
        /\ nonnull_ptr'0 self.current r
        /\ index_logic'1 self.current r = index_logic'0 s (Seq.length (Snapshot.inner s) - 1)
        /\ list_seg'0 self.current (index_logic'0 s (Seq.length (Snapshot.inner s)
        - 1)) (Reverse.reverse (Snapshot.inner s)) (index_logic'0 s 0) 0 (Seq.length (Snapshot.inner s) - 1)}
        {[@expl:loop invariant #2] [%#slist_reversal_lasso3] Snapshot.inner n <= Seq.length (Snapshot.inner s)
         -> list_seg'0 self.current l (Snapshot.inner s) (index_logic'0 s 0) (Snapshot.inner n) (Seq.length (Snapshot.inner s))}
        {[@expl:loop invariant #3] [%#slist_reversal_lasso2] Snapshot.inner n <= Seq.length (Snapshot.inner s)
         -> list_seg'0 self.current r (Reverse.reverse (Snapshot.inner s)) v_NULL'0 (Seq.length (Snapshot.inner s)
        - Snapshot.inner n) (Seq.length (Snapshot.inner s))}
        (! s0) [ s0 = bb3 ] 
        [ bb3 = s0
          [ s0 = UIntSize.ne {l} {[%#slist_reversal_lasso6] (18446744073709551615 : usize)}
              (fun (_ret':bool) ->  [ &_17 <- _ret' ] s1)
          | s1 = any [ br0 -> {_17 = false} (! bb9) | br1 -> {_17} (! bb4) ]  ]
          
        | bb4 = s0
          [ s0 = {[@expl:assertion] [%#slist_reversal_lasso7] Snapshot.inner n = Seq.length (Snapshot.inner s)
             -> l = Seq.get (Reverse.reverse (Snapshot.inner s)) (Seq.length (Snapshot.inner s) - 1)}
            s1
          | s1 = Borrow.borrow_mut <t_Memory'0> {self.current}
              (fun (_ret':borrowed (t_Memory'0)) ->
                 [ &_25 <- _ret' ] 
                 [ &self <- { self with current = _ret'.final } ] 
                s2)
          | s2 = index_mut'0 {_25} {l} (fun (_ret':borrowed usize) ->  [ &_24 <- _ret' ] s3)
          | s3 = bb5 ]
          
        | bb5 = s0
          [ s0 = Borrow.borrow_final <usize> {_24.current} {Borrow.get_id _24}
              (fun (_ret':borrowed usize) ->  [ &_23 <- _ret' ]  [ &_24 <- { _24 with current = _ret'.final } ] s1)
          | s1 = Borrow.borrow_final <usize> {_23.current} {Borrow.get_id _23}
              (fun (_ret':borrowed usize) ->  [ &_22 <- _ret' ]  [ &_23 <- { _23 with current = _ret'.final } ] s2)
          | s2 = Borrow.borrow_mut <usize> {r}
              (fun (_ret':borrowed usize) ->  [ &_29 <- _ret' ]  [ &r <- _ret'.final ] s3)
          | s3 = Borrow.borrow_final <usize> {_29.current} {Borrow.get_id _29}
              (fun (_ret':borrowed usize) ->  [ &_28 <- _ret' ]  [ &_29 <- { _29 with current = _ret'.final } ] s4)
          | s4 = replace'0 {_28} {l} (fun (_ret':usize) ->  [ &_27 <- _ret' ] s5)
          | s5 = bb6 ]
          
        | bb6 = s0
          [ s0 = -{resolve'0 _29}- s1
          | s1 = replace'0 {_22} {_27} (fun (_ret':usize) ->  [ &_21 <- _ret' ] s2)
          | s2 = bb7 ]
          
        | bb7 = s0
          [ s0 = -{resolve'0 _24}- s1
          | s1 = -{resolve'0 _23}- s2
          | s2 =  [ &l <- _21 ] s3
          | s3 =  [ &_31 <- [%#slist_reversal_lasso8] Snapshot.new (Snapshot.inner n + 1) ] s4
          | s4 = bb8 ]
          
        | bb8 = s0 [ s0 =  [ &n <- _31 ] s1 | s1 = bb2 ]  ]
         ]
      
    | bb9 = s0
      [ s0 = -{resolve'1 self}- s1
      | s1 = {[@expl:assertion] [%#slist_reversal_lasso9] forall i : int . 0 <= i /\ i < Seq.length (Snapshot.inner s)
         -> Seq.get (push_front'0 (Reverse.reverse (Seq.([..]) (Snapshot.inner s) 1 (Seq.length (Snapshot.inner s)))) (index_logic'0 s 0)) i
        = (if i = 0 then index_logic'0 s 0 else Seq.get (Reverse.reverse (Snapshot.inner s)) (i - 1))}
        s2
      | s2 =  [ &_0 <- r ] s3
      | s3 = return' {_0} ]
       ]
    )
    [ & _0 : usize = any_l ()
    | & self : borrowed (t_Memory'0) = self
    | & l : usize = l
    | & s : Snapshot.snap_ty (Seq.seq usize) = s
    | & r : usize = any_l ()
    | & n : Snapshot.snap_ty int = any_l ()
    | & _17 : bool = any_l ()
    | & _21 : usize = any_l ()
    | & _22 : borrowed usize = any_l ()
    | & _23 : borrowed usize = any_l ()
    | & _24 : borrowed usize = any_l ()
    | & _25 : borrowed (t_Memory'0) = any_l ()
    | & _27 : usize = any_l ()
    | & _28 : borrowed usize = any_l ()
    | & _29 : borrowed usize = any_l ()
    | & _31 : Snapshot.snap_ty int = any_l ()
    | & old_2_0 : Snapshot.snap_ty (borrowed (t_Memory'0)) = any_l () ]
    
    [ return' (result:usize)-> {[@expl:list_reversal_loop ensures] [%#slist_reversal_lasso12] loopqy95z'0 self.final result (push_front'0 (Reverse.reverse (Seq.([..]) (Snapshot.inner s) 1 (Seq.length (Snapshot.inner s)))) (index_logic'0 s 0))}
      (! return' {result}) ]
    
end
module M_list_reversal_lasso__qyi2644757663130641572__list_reversal_lasso [#"list_reversal_lasso.rs" 163 4 168 12] (* Memory *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 169 20 169 24
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 170 20 170 35
  let%span slist_reversal_lasso2 = "list_reversal_lasso.rs" 172 8 172 60
  let%span slist_reversal_lasso3 = "list_reversal_lasso.rs" 179 20 182 74
  let%span slist_reversal_lasso4 = "list_reversal_lasso.rs" 172 20 172 58
  let%span slist_reversal_lasso5 = "list_reversal_lasso.rs" 190 19 190 23
  let%span slist_reversal_lasso6 = "list_reversal_lasso.rs" 192 16 192 36
  let%span slist_reversal_lasso7 = "list_reversal_lasso.rs" 161 15 161 38
  let%span slist_reversal_lasso8 = "list_reversal_lasso.rs" 162 14 162 54
  let%span sops9 = "../../../creusot-contracts/src/logic/ops.rs" 86 8 86 33
  let%span slist_reversal_lasso10 = "list_reversal_lasso.rs" 13 0 13 15
  let%span slist_reversal_lasso11 = "list_reversal_lasso.rs" 83 12 85 98
  let%span slist_reversal_lasso12 = "list_reversal_lasso.rs" 36 15 36 34
  let%span slist_reversal_lasso13 = "list_reversal_lasso.rs" 37 14 37 47
  let%span slist_reversal_lasso14 = "list_reversal_lasso.rs" 38 14 38 47
  let%span slist_reversal_lasso15 = "list_reversal_lasso.rs" 39 14 39 47
  let%span slist_reversal_lasso16 = "list_reversal_lasso.rs" 40 14 40 111
  let%span smem17 = "../../../creusot-contracts/src/std/mem.rs" 8 22 8 34
  let%span smem18 = "../../../creusot-contracts/src/std/mem.rs" 9 22 9 37
  let%span slist_reversal_lasso19 = "list_reversal_lasso.rs" 152 8 158 9
  let%span slist_reversal_lasso20 = "list_reversal_lasso.rs" 50 20 50 70
  let%span slist_reversal_lasso21 = "list_reversal_lasso.rs" 21 8 21 31
  let%span svec22 = "../../../creusot-contracts/src/std/vec.rs" 18 14 18 41
  let%span sresolve23 = "../../../creusot-contracts/src/resolve.rs" 54 20 54 34
  let%span sops24 = "../../../creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  use seq.Seq
  
  use prelude.prelude.Int
  
  use seq.Seq
  
  use prelude.prelude.Snapshot
  
  use seq.Seq
  
  function index_logic'0 [@inline:trivial] (self : Snapshot.snap_ty (Seq.seq usize)) (ix : int) : usize =
    [%#sops9] Seq.get (Snapshot.inner self) ix
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Borrow
  
  use seq.Reverse
  
  constant v_NULL'0 : usize = [%#slist_reversal_lasso10] (18446744073709551615 : usize)
  
  use prelude.prelude.Opaque
  
  type t_NonNull'0  =
    { t_NonNull__pointer'0: opaque_ptr }
  
  type t_Unique'0  =
    { t_Unique__pointer'0: t_NonNull'0; t_Unique__qy95zmarker'0: () }
  
  type t_Cap'0  =
    { t_Cap__0'0: usize }
  
  type t_RawVec'0  =
    { t_RawVec__ptr'0: t_Unique'0; t_RawVec__cap'0: t_Cap'0; t_RawVec__alloc'0: () }
  
  type t_Vec'0  =
    { t_Vec__buf'0: t_RawVec'0; t_Vec__len'0: usize }
  
  type t_Memory'0  =
    { t_Memory__0'0: t_Vec'0 }
  
  constant v_MAX'0 : usize = (18446744073709551615 : usize)
  
  use prelude.prelude.UIntSize
  
  function view'0 (self : t_Vec'0) : Seq.seq usize
  
  axiom view'0_spec : forall self : t_Vec'0 . [%#svec22] Seq.length (view'0 self) <= UIntSize.to_int (v_MAX'0 : usize)
  
  predicate nonnull_ptr'0 [#"list_reversal_lasso.rs" 49 4 49 44] (self : t_Memory'0) (i : usize) =
    [%#slist_reversal_lasso20] Seq.length (view'0 self.t_Memory__0'0) <= UIntSize.to_int (v_MAX'0 : usize)
    /\ UIntSize.to_int i < Seq.length (view'0 self.t_Memory__0'0)
  
  function index_logic'2 [@inline:trivial] (self : t_Vec'0) (ix : usize) : usize =
    [%#sops24] Seq.get (view'0 self) (UIntSize.to_int ix)
  
  function index_logic'1 [#"list_reversal_lasso.rs" 20 4 20 39] (self : t_Memory'0) (i : usize) : usize =
    [%#slist_reversal_lasso21] index_logic'2 self.t_Memory__0'0 i
  
  predicate list_seg'0 [#"list_reversal_lasso.rs" 81 4 81 81] (self : t_Memory'0) (first : usize) (s : Seq.seq usize) (last : usize) (l : int) (h : int)
    
   =
    [%#slist_reversal_lasso11] first = (if h = l then last else Seq.get s l)
    /\ (forall i : int . l <= i /\ i < h
     -> nonnull_ptr'0 self (Seq.get s i)
    /\ index_logic'1 self (Seq.get s i) = (if i = h - 1 then last else Seq.get s (i + 1)))
    /\ (forall i : int, j : int . l <= i /\ i < h /\ l <= j /\ j < h /\ i <> j  -> Seq.get s i <> Seq.get s j)
  
  use prelude.prelude.Snapshot
  
  let rec index_mut'0 (self:borrowed (t_Memory'0)) (i:usize) (return'  (ret:borrowed usize))= {[@expl:index_mut requires] [%#slist_reversal_lasso12] nonnull_ptr'0 self.current i}
    any
    [ return' (result:borrowed usize)-> {[%#slist_reversal_lasso13] result.current = index_logic'1 self.current i}
      {[%#slist_reversal_lasso14] result.final = index_logic'1 self.final i}
      {[%#slist_reversal_lasso15] Seq.length (view'0 (self.current).t_Memory__0'0)
      = Seq.length (view'0 (self.final).t_Memory__0'0)}
      {[%#slist_reversal_lasso16] forall j : usize . nonnull_ptr'0 self.current j /\ i <> j
       -> index_logic'1 self.final j = index_logic'1 self.current j}
      (! return' {result}) ]
    
  
  predicate inv'0 (_1 : borrowed usize)
  
  axiom inv_axiom'0 [@rewrite] : forall x : borrowed usize [inv'0 x] . inv'0 x = true
  
  predicate inv'1 (_1 : usize)
  
  axiom inv_axiom'1 [@rewrite] : forall x : usize [inv'1 x] . inv'1 x = true
  
  let rec replace'0 (dest:borrowed usize) (src:usize) (return'  (ret:usize))= {[@expl:replace 'dest' type invariant] inv'0 dest}
    {[@expl:replace 'src' type invariant] inv'1 src}
    any
    [ return' (result:usize)-> {inv'1 result}
      {[%#smem17] dest.final = src}
      {[%#smem18] result = dest.current}
      (! return' {result}) ]
    
  
  predicate resolve'2 (self : borrowed usize) =
    [%#sresolve23] self.final = self.current
  
  predicate resolve'0 (_1 : borrowed usize) =
    resolve'2 _1
  
  predicate resolve'3 (self : borrowed (t_Memory'0)) =
    [%#sresolve23] self.final = self.current
  
  predicate resolve'1 (_1 : borrowed (t_Memory'0)) =
    resolve'3 _1
  
  use prelude.prelude.Intrinsic
  
  use prelude.prelude.Snapshot
  
  use prelude.prelude.Snapshot
  
  predicate lasso'0 [#"list_reversal_lasso.rs" 151 4 151 70] (self : t_Memory'0) (first : usize) (s1 : Seq.seq usize) (s2 : Seq.seq usize)
    
   =
    [%#slist_reversal_lasso19] let mid = if Seq.length s2 = 0 then
      Seq.get s1 (Seq.length s1 - 1)
    else
      Seq.get s2 0
     in Seq.length s1 > 0
    /\ (forall i : int, j : int . 0 <= i /\ i < Seq.length s1 /\ 0 <= j /\ j < Seq.length s2
     -> Seq.get s1 i <> Seq.get s2 j)
    /\ list_seg'0 self first s1 mid 0 (Seq.length s1)
    /\ list_seg'0 self mid s2 (Seq.get s1 (Seq.length s1 - 1)) 0 (Seq.length s2)
  
  meta "compute_max_steps" 1000000
  
  let rec list_reversal_lasso'0 (self:borrowed (t_Memory'0)) (l:usize) (s1:Snapshot.snap_ty (Seq.seq usize)) (s2:Snapshot.snap_ty (Seq.seq usize)) (return'  (ret:usize))= {[@expl:list_reversal_lasso requires] [%#slist_reversal_lasso7] lasso'0 self.current l (Snapshot.inner s1) (Snapshot.inner s2)}
    (! bb0
    [ bb0 = s0
      [ s0 =  [ &r <- [%#slist_reversal_lasso0] (18446744073709551615 : usize) ] s1
      | s1 =  [ &n <- [%#slist_reversal_lasso1] Snapshot.new 0 ] s2
      | s2 = bb1 ]
      
    | bb1 = s0 [ s0 =  [ &old_2_0 <- Snapshot.new self ] s1 | s1 = bb2 ] 
    | bb2 = bb2
      [ bb2 = {[@expl:mut invariant] (Snapshot.inner old_2_0).final = self.final}
        {[@expl:loop invariant #0] [%#slist_reversal_lasso4] 0 <= Snapshot.inner n
        /\ Snapshot.inner n <= 2 * Seq.length (Snapshot.inner s1) + Seq.length (Snapshot.inner s2)}
        {[@expl:loop invariant #1] [%#slist_reversal_lasso2] let mid = if Seq.length (Snapshot.inner s2) = 0 then
          index_logic'0 s1 (Seq.length (Snapshot.inner s1) - 1)
        else
          index_logic'0 s2 0
         in Snapshot.inner n <= Seq.length (Snapshot.inner s1)
         -> list_seg'0 self.current l (Snapshot.inner s1) mid (Snapshot.inner n) (Seq.length (Snapshot.inner s1))
        /\ list_seg'0 self.current mid (Snapshot.inner s2) (index_logic'0 s1 (Seq.length (Snapshot.inner s1)
        - 1)) 0 (Seq.length (Snapshot.inner s2))
        /\ list_seg'0 self.current r (Reverse.reverse (Snapshot.inner s1)) v_NULL'0 (Seq.length (Snapshot.inner s1)
        - Snapshot.inner n) (Seq.length (Snapshot.inner s1))}
        {[@expl:loop invariant #2] [%#slist_reversal_lasso3] Seq.length (Snapshot.inner s1) < Snapshot.inner n
        /\ Snapshot.inner n <= Seq.length (Snapshot.inner s1) + Seq.length (Snapshot.inner s2)
         -> list_seg'0 self.current l (Snapshot.inner s2) (index_logic'0 s1 (Seq.length (Snapshot.inner s1)
        - 1)) (Snapshot.inner n - Seq.length (Snapshot.inner s1)) (Seq.length (Snapshot.inner s2))
        /\ list_seg'0 self.current r (Reverse.reverse (Snapshot.inner s2)) (index_logic'0 s1 (Seq.length (Snapshot.inner s1)
        - 1)) (Seq.length (Snapshot.inner s1) + Seq.length (Snapshot.inner s2)
        - Snapshot.inner n) (Seq.length (Snapshot.inner s2))
        /\ list_seg'0 self.current (index_logic'0 s1 (Seq.length (Snapshot.inner s1)
        - 1)) (Reverse.reverse (Snapshot.inner s1)) v_NULL'0 0 (Seq.length (Snapshot.inner s1))}
        {[@expl:loop invariant #3] [%#slist_reversal_lasso2] let mid = if Seq.length (Snapshot.inner s2) = 0 then
          index_logic'0 s1 (Seq.length (Snapshot.inner s1) - 1)
        else
          index_logic'0 s2 (Seq.length (Snapshot.inner s2) - 1)
         in Seq.length (Snapshot.inner s1) + Seq.length (Snapshot.inner s2) < Snapshot.inner n
         -> list_seg'0 self.current l (Reverse.reverse (Snapshot.inner s1)) v_NULL'0 (Snapshot.inner n
        - Seq.length (Snapshot.inner s1)
        - Seq.length (Snapshot.inner s2)) (Seq.length (Snapshot.inner s1))
        /\ list_seg'0 self.current r (Snapshot.inner s1) mid (2 * Seq.length (Snapshot.inner s1)
        + Seq.length (Snapshot.inner s2)
        - Snapshot.inner n) (Seq.length (Snapshot.inner s1))
        /\ list_seg'0 self.current mid (Reverse.reverse (Snapshot.inner s2)) (index_logic'0 s1 (Seq.length (Snapshot.inner s1)
        - 1)) 0 (Seq.length (Snapshot.inner s2))}
        (! s0) [ s0 = bb3 ] 
        [ bb3 = s0
          [ s0 = UIntSize.ne {l} {[%#slist_reversal_lasso5] (18446744073709551615 : usize)}
              (fun (_ret':bool) ->  [ &_17 <- _ret' ] s1)
          | s1 = any [ br0 -> {_17 = false} (! bb9) | br1 -> {_17} (! bb4) ]  ]
          
        | bb4 = s0
          [ s0 = Borrow.borrow_mut <t_Memory'0> {self.current}
              (fun (_ret':borrowed (t_Memory'0)) ->
                 [ &_23 <- _ret' ] 
                 [ &self <- { self with current = _ret'.final } ] 
                s1)
          | s1 = index_mut'0 {_23} {l} (fun (_ret':borrowed usize) ->  [ &_22 <- _ret' ] s2)
          | s2 = bb5 ]
          
        | bb5 = s0
          [ s0 = Borrow.borrow_final <usize> {_22.current} {Borrow.get_id _22}
              (fun (_ret':borrowed usize) ->  [ &_21 <- _ret' ]  [ &_22 <- { _22 with current = _ret'.final } ] s1)
          | s1 = Borrow.borrow_final <usize> {_21.current} {Borrow.get_id _21}
              (fun (_ret':borrowed usize) ->  [ &_20 <- _ret' ]  [ &_21 <- { _21 with current = _ret'.final } ] s2)
          | s2 = Borrow.borrow_mut <usize> {r}
              (fun (_ret':borrowed usize) ->  [ &_27 <- _ret' ]  [ &r <- _ret'.final ] s3)
          | s3 = Borrow.borrow_final <usize> {_27.current} {Borrow.get_id _27}
              (fun (_ret':borrowed usize) ->  [ &_26 <- _ret' ]  [ &_27 <- { _27 with current = _ret'.final } ] s4)
          | s4 = replace'0 {_26} {l} (fun (_ret':usize) ->  [ &_25 <- _ret' ] s5)
          | s5 = bb6 ]
          
        | bb6 = s0
          [ s0 = -{resolve'0 _27}- s1
          | s1 = replace'0 {_20} {_25} (fun (_ret':usize) ->  [ &_19 <- _ret' ] s2)
          | s2 = bb7 ]
          
        | bb7 = s0
          [ s0 = -{resolve'0 _22}- s1
          | s1 = -{resolve'0 _21}- s2
          | s2 =  [ &l <- _19 ] s3
          | s3 =  [ &_29 <- [%#slist_reversal_lasso6] Snapshot.new (Snapshot.inner n + 1) ] s4
          | s4 = bb8 ]
          
        | bb8 = s0 [ s0 =  [ &n <- _29 ] s1 | s1 = bb2 ]  ]
         ]
      
    | bb9 = s0 [ s0 = -{resolve'1 self}- s1 | s1 =  [ &_0 <- r ] s2 | s2 = return' {_0} ]  ]
    )
    [ & _0 : usize = any_l ()
    | & self : borrowed (t_Memory'0) = self
    | & l : usize = l
    | & s1 : Snapshot.snap_ty (Seq.seq usize) = s1
    | & s2 : Snapshot.snap_ty (Seq.seq usize) = s2
    | & r : usize = any_l ()
    | & n : Snapshot.snap_ty int = any_l ()
    | & _17 : bool = any_l ()
    | & _19 : usize = any_l ()
    | & _20 : borrowed usize = any_l ()
    | & _21 : borrowed usize = any_l ()
    | & _22 : borrowed usize = any_l ()
    | & _23 : borrowed (t_Memory'0) = any_l ()
    | & _25 : usize = any_l ()
    | & _26 : borrowed usize = any_l ()
    | & _27 : borrowed usize = any_l ()
    | & _29 : Snapshot.snap_ty int = any_l ()
    | & old_2_0 : Snapshot.snap_ty (borrowed (t_Memory'0)) = any_l () ]
    
    [ return' (result:usize)-> {[@expl:list_reversal_lasso ensures] [%#slist_reversal_lasso8] lasso'0 self.final result (Snapshot.inner s1) (Reverse.reverse (Snapshot.inner s2))}
      (! return' {result}) ]
    
end
module M_list_reversal_lasso__qyi2644757663130641572__find_ptr_in_seq [#"list_reversal_lasso.rs" 204 4 204 66] (* Memory *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 198 15 198 37
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 199 14 202 5
  let%span slist_reversal_lasso2 = "list_reversal_lasso.rs" 203 14 203 25
  let%span slist_reversal_lasso3 = "list_reversal_lasso.rs" 205 8 209 9
  
  use prelude.prelude.Int
  
  use seq.Seq
  
  type t_Option'0  =
    | C_None'0
    | C_Some'0 int
  
  use seq.Seq
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use seq.Seq
  
  constant s  : Seq.seq usize
  
  constant i  : int
  
  constant p  : int
  
  function find_ptr_in_seq'0 [#"list_reversal_lasso.rs" 204 4 204 66] (s : Seq.seq usize) (i : int) (p : int) : t_Option'0
    
  
  goal vc_find_ptr_in_seq'0 : ([%#slist_reversal_lasso0] 0 <= i /\ i <= Seq.length s)
   -> (if i = Seq.length s then
    [%#slist_reversal_lasso1] match C_None'0 with
      | C_None'0 -> forall j : int . i <= j /\ j < Seq.length s  -> UIntSize.to_int (Seq.get s j) <> p
      | C_Some'0 j -> i <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = p
      end
  else
    if UIntSize.to_int (Seq.get s i) = p then
      [%#slist_reversal_lasso1] match C_Some'0 i with
        | C_None'0 -> forall j : int . i <= j /\ j < Seq.length s  -> UIntSize.to_int (Seq.get s j) <> p
        | C_Some'0 j -> i <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = p
        end
    else
      (([@expl:find_ptr_in_seq requires] [%#slist_reversal_lasso0] 0 <= i + 1 /\ i + 1 <= Seq.length s)
      /\ 0 <= ([%#slist_reversal_lasso2] Seq.length s - i)
      /\ ([%#slist_reversal_lasso2] Seq.length s - (i + 1)) < ([%#slist_reversal_lasso2] Seq.length s - i))
      /\ (([%#slist_reversal_lasso1] match find_ptr_in_seq'0 s (i + 1) p with
        | C_None'0 -> forall j : int . i + 1 <= j /\ j < Seq.length s  -> UIntSize.to_int (Seq.get s j) <> p
        | C_Some'0 j -> i + 1 <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = p
        end)
       -> ([%#slist_reversal_lasso1] match find_ptr_in_seq'0 s (i + 1) p with
        | C_None'0 -> forall j : int . i <= j /\ j < Seq.length s  -> UIntSize.to_int (Seq.get s j) <> p
        | C_Some'0 j -> i <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = p
        end))
    
  )
end
module M_list_reversal_lasso__qyi2644757663130641572__pigeon [#"list_reversal_lasso.rs" 219 4 219 42] (* Memory *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 213 15 213 21
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 214 15 214 65
  let%span slist_reversal_lasso2 = "list_reversal_lasso.rs" 215 15 215 111
  let%span slist_reversal_lasso3 = "list_reversal_lasso.rs" 216 14 216 26
  let%span slist_reversal_lasso4 = "list_reversal_lasso.rs" 217 14 217 20
  let%span slist_reversal_lasso5 = "list_reversal_lasso.rs" 218 14 218 15
  let%span slist_reversal_lasso6 = "list_reversal_lasso.rs" 198 15 198 37
  let%span slist_reversal_lasso7 = "list_reversal_lasso.rs" 199 14 202 5
  let%span slist_reversal_lasso8 = "list_reversal_lasso.rs" 203 14 203 25
  let%span slist_reversal_lasso9 = "list_reversal_lasso.rs" 220 8 232 9
  let%span slist_reversal_lasso10 = "list_reversal_lasso.rs" 205 8 209 9
  
  use prelude.prelude.Int
  
  use seq.Seq
  
  use seq.Seq
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.UIntSize
  
  use seq.Seq
  
  type t_Option'0  =
    | C_None'0
    | C_Some'0 int
  
  function find_ptr_in_seq'0 [#"list_reversal_lasso.rs" 204 4 204 66] (s : Seq.seq usize) (i : int) (p : int) : t_Option'0
    
  
  axiom find_ptr_in_seq'0_def : forall s : Seq.seq usize, i : int, p : int . ([%#slist_reversal_lasso6] 0 <= i
  /\ i <= Seq.length s)
   -> find_ptr_in_seq'0 s i p
  = ([%#slist_reversal_lasso10] if i = Seq.length s then
    C_None'0
  else
    if UIntSize.to_int (Seq.get s i) = p then C_Some'0 i else find_ptr_in_seq'0 s (i + 1) p
  )
  
  axiom find_ptr_in_seq'0_spec : forall s : Seq.seq usize, i : int, p : int . ([%#slist_reversal_lasso6] 0 <= i
  /\ i <= Seq.length s)
   -> ([%#slist_reversal_lasso7] match find_ptr_in_seq'0 s i p with
    | C_None'0 -> forall j : int . i <= j /\ j < Seq.length s  -> UIntSize.to_int (Seq.get s j) <> p
    | C_Some'0 j -> i <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = p
    end)
  
  use seq.Seq
  
  use seq.Seq
  
  constant s  : Seq.seq usize
  
  constant n  : int
  
  function pigeon'0 [#"list_reversal_lasso.rs" 219 4 219 42] (s : Seq.seq usize) (n : int) : bool
  
  goal vc_pigeon'0 : ([%#slist_reversal_lasso2] forall i : int, j : int . 0 <= i
  /\ i < Seq.length s /\ 0 <= j /\ j < Seq.length s /\ i <> j  -> Seq.get s i <> Seq.get s j)
   -> ([%#slist_reversal_lasso1] forall i : int . 0 <= i /\ i < Seq.length s  -> UIntSize.to_int (Seq.get s i) < n)
   -> ([%#slist_reversal_lasso0] 0 <= n)
   -> (if n = 0 then
    ([%#slist_reversal_lasso3] Seq.length s <= n) && ([%#slist_reversal_lasso4] true)
  else
    ([@expl:find_ptr_in_seq requires] [%#slist_reversal_lasso6] 0 <= 0 /\ 0 <= Seq.length s)
    /\ (([%#slist_reversal_lasso7] match find_ptr_in_seq'0 s 0 (n - 1) with
      | C_None'0 -> forall j : int . 0 <= j /\ j < Seq.length s  -> UIntSize.to_int (Seq.get s j) <> n - 1
      | C_Some'0 j -> 0 <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = n - 1
      end)
     -> match find_ptr_in_seq'0 s 0 (n - 1) with
      | C_None'0 -> ((([@expl:pigeon requires #0] [%#slist_reversal_lasso0] 0 <= n - 1)
      && ([@expl:pigeon requires #1] [%#slist_reversal_lasso1] forall i : int . 0 <= i /\ i < Seq.length s
       -> UIntSize.to_int (Seq.get s i) < n - 1)
      && ([@expl:pigeon requires #2] [%#slist_reversal_lasso2] forall i : int, j : int . 0 <= i
      /\ i < Seq.length s /\ 0 <= j /\ j < Seq.length s /\ i <> j  -> Seq.get s i <> Seq.get s j))
      /\ 0 <= ([%#slist_reversal_lasso5] n) /\ ([%#slist_reversal_lasso5] n - 1) < ([%#slist_reversal_lasso5] n))
      /\ (([%#slist_reversal_lasso3] Seq.length s <= n - 1) && ([%#slist_reversal_lasso4] pigeon'0 s (n - 1))
       -> ([%#slist_reversal_lasso3] Seq.length s <= n) && ([%#slist_reversal_lasso4] pigeon'0 s (n - 1)))
      | C_Some'0 i -> ([@expl:find_ptr_in_seq requires] [%#slist_reversal_lasso6] 0 <= i + 1 /\ i + 1 <= Seq.length s)
      /\ (([%#slist_reversal_lasso7] match find_ptr_in_seq'0 s (i + 1) (n - 1) with
        | C_None'0 -> forall j : int . i + 1 <= j /\ j < Seq.length s  -> UIntSize.to_int (Seq.get s j) <> n - 1
        | C_Some'0 j -> i + 1 <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = n - 1
        end)
       -> match find_ptr_in_seq'0 s (i + 1) (n - 1) with
        | C_None'0 -> ((([@expl:pigeon requires #0] [%#slist_reversal_lasso0] 0 <= n - 1)
        && ([@expl:pigeon requires #1] [%#slist_reversal_lasso1] forall i' : int . 0 <= i'
        /\ i' < Seq.length (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s)))
         -> UIntSize.to_int (Seq.get (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s))) i') < n - 1)
        && ([@expl:pigeon requires #2] [%#slist_reversal_lasso2] forall i' : int, j : int . 0 <= i'
        /\ i' < Seq.length (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s)))
        /\ 0 <= j /\ j < Seq.length (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s))) /\ i' <> j
         -> Seq.get (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s))) i'
        <> Seq.get (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s))) j))
        /\ 0 <= ([%#slist_reversal_lasso5] n) /\ ([%#slist_reversal_lasso5] n - 1) < ([%#slist_reversal_lasso5] n))
        /\ (([%#slist_reversal_lasso3] Seq.length (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s)))
        <= n - 1)
        && ([%#slist_reversal_lasso4] pigeon'0 (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s))) (n
        - 1))
         -> ([%#slist_reversal_lasso3] Seq.length s <= n)
        && ([%#slist_reversal_lasso4] pigeon'0 (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s))) (n
        - 1)))
        | C_Some'0 _ -> ([%#slist_reversal_lasso3] Seq.length s <= n) && ([%#slist_reversal_lasso4] true)
        end)
      end)
  )
end
module M_list_reversal_lasso__qyi2644757663130641572__find_lasso_aux [#"list_reversal_lasso.rs" 244 4 244 95] (* Memory *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 236 15 236 40
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 237 15 237 53
  let%span slist_reversal_lasso2 = "list_reversal_lasso.rs" 238 15 238 56
  let%span slist_reversal_lasso3 = "list_reversal_lasso.rs" 239 14 242 5
  let%span slist_reversal_lasso4 = "list_reversal_lasso.rs" 243 14 243 37
  let%span slist_reversal_lasso5 = "list_reversal_lasso.rs" 198 15 198 37
  let%span slist_reversal_lasso6 = "list_reversal_lasso.rs" 199 14 202 5
  let%span slist_reversal_lasso7 = "list_reversal_lasso.rs" 203 14 203 25
  let%span svec8 = "../../../creusot-contracts/src/std/vec.rs" 18 14 18 41
  let%span slist_reversal_lasso9 = "list_reversal_lasso.rs" 213 15 213 21
  let%span slist_reversal_lasso10 = "list_reversal_lasso.rs" 214 15 214 65
  let%span slist_reversal_lasso11 = "list_reversal_lasso.rs" 215 15 215 111
  let%span slist_reversal_lasso12 = "list_reversal_lasso.rs" 216 14 216 26
  let%span slist_reversal_lasso13 = "list_reversal_lasso.rs" 217 14 217 20
  let%span slist_reversal_lasso14 = "list_reversal_lasso.rs" 218 14 218 15
  let%span slist_reversal_lasso15 = "list_reversal_lasso.rs" 245 8 259 9
  let%span slist_reversal_lasso16 = "list_reversal_lasso.rs" 57 12 57 95
  let%span slist_reversal_lasso17 = "list_reversal_lasso.rs" 13 0 13 15
  let%span slist_reversal_lasso18 = "list_reversal_lasso.rs" 50 20 50 70
  let%span slist_reversal_lasso19 = "list_reversal_lasso.rs" 83 12 85 98
  let%span slist_reversal_lasso20 = "list_reversal_lasso.rs" 93 12 93 53
  let%span slist_reversal_lasso21 = "list_reversal_lasso.rs" 152 8 158 9
  let%span slist_reversal_lasso22 = "list_reversal_lasso.rs" 205 8 209 9
  let%span slist_reversal_lasso23 = "list_reversal_lasso.rs" 220 8 232 9
  let%span slist_reversal_lasso24 = "list_reversal_lasso.rs" 21 8 21 31
  let%span sops25 = "../../../creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  use prelude.prelude.Opaque
  
  type t_NonNull'0  =
    { t_NonNull__pointer'0: opaque_ptr }
  
  type t_Unique'0  =
    { t_Unique__pointer'0: t_NonNull'0; t_Unique__qy95zmarker'0: () }
  
  use prelude.prelude.UIntSize
  
  type t_Cap'0  =
    { t_Cap__0'0: usize }
  
  type t_RawVec'0  =
    { t_RawVec__ptr'0: t_Unique'0; t_RawVec__cap'0: t_Cap'0; t_RawVec__alloc'0: () }
  
  type t_Vec'0  =
    { t_Vec__buf'0: t_RawVec'0; t_Vec__len'0: usize }
  
  type t_Memory'0  =
    { t_Memory__0'0: t_Vec'0 }
  
  use seq.Seq
  
  constant v_MAX'0 : usize = (18446744073709551615 : usize)
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use seq.Seq
  
  function view'0 (self : t_Vec'0) : Seq.seq usize
  
  axiom view'0_spec : forall self : t_Vec'0 . [%#svec8] Seq.length (view'0 self) <= UIntSize.to_int (v_MAX'0 : usize)
  
  predicate nonnull_ptr'0 [#"list_reversal_lasso.rs" 49 4 49 44] (self : t_Memory'0) (i : usize) =
    [%#slist_reversal_lasso18] Seq.length (view'0 self.t_Memory__0'0) <= UIntSize.to_int (v_MAX'0 : usize)
    /\ UIntSize.to_int i < Seq.length (view'0 self.t_Memory__0'0)
  
  use seq.Seq
  
  function index_logic'1 [@inline:trivial] (self : t_Vec'0) (ix : usize) : usize =
    [%#sops25] Seq.get (view'0 self) (UIntSize.to_int ix)
  
  function index_logic'0 [#"list_reversal_lasso.rs" 20 4 20 39] (self : t_Memory'0) (i : usize) : usize =
    [%#slist_reversal_lasso24] index_logic'1 self.t_Memory__0'0 i
  
  constant v_NULL'0 : usize = [%#slist_reversal_lasso17] (18446744073709551615 : usize)
  
  predicate mem_is_well_formed'0 [#"list_reversal_lasso.rs" 55 4 55 43] (self : t_Memory'0) =
    [%#slist_reversal_lasso16] forall i : usize . nonnull_ptr'0 self i
     -> index_logic'0 self i = v_NULL'0 \/ nonnull_ptr'0 self (index_logic'0 self i)
  
  predicate list_seg'0 [#"list_reversal_lasso.rs" 81 4 81 81] (self : t_Memory'0) (first : usize) (s : Seq.seq usize) (last : usize) (l : int) (h : int)
    
   =
    [%#slist_reversal_lasso19] first = (if h = l then last else Seq.get s l)
    /\ (forall i : int . l <= i /\ i < h
     -> nonnull_ptr'0 self (Seq.get s i)
    /\ index_logic'0 self (Seq.get s i) = (if i = h - 1 then last else Seq.get s (i + 1)))
    /\ (forall i : int, j : int . l <= i /\ i < h /\ l <= j /\ j < h /\ i <> j  -> Seq.get s i <> Seq.get s j)
  
  type t_Option'0  =
    | C_None'0
    | C_Some'0 (Seq.seq usize)
  
  predicate list'0 [#"list_reversal_lasso.rs" 91 4 91 54] (self : t_Memory'0) (first : usize) (s : Seq.seq usize) =
    [%#slist_reversal_lasso20] list_seg'0 self first s v_NULL'0 0 (Seq.length s)
  
  predicate lasso'0 [#"list_reversal_lasso.rs" 151 4 151 70] (self : t_Memory'0) (first : usize) (s1 : Seq.seq usize) (s2 : Seq.seq usize)
    
   =
    [%#slist_reversal_lasso21] let mid = if Seq.length s2 = 0 then
      Seq.get s1 (Seq.length s1 - 1)
    else
      Seq.get s2 0
     in Seq.length s1 > 0
    /\ (forall i : int, j : int . 0 <= i /\ i < Seq.length s1 /\ 0 <= j /\ j < Seq.length s2
     -> Seq.get s1 i <> Seq.get s2 j)
    /\ list_seg'0 self first s1 mid 0 (Seq.length s1)
    /\ list_seg'0 self mid s2 (Seq.get s1 (Seq.length s1 - 1)) 0 (Seq.length s2)
  
  type t_Option'1  =
    | C_None'1
    | C_Some'1 int
  
  function find_ptr_in_seq'0 [#"list_reversal_lasso.rs" 204 4 204 66] (s : Seq.seq usize) (i : int) (p : int) : t_Option'1
    
  
  axiom find_ptr_in_seq'0_def : forall s : Seq.seq usize, i : int, p : int . ([%#slist_reversal_lasso5] 0 <= i
  /\ i <= Seq.length s)
   -> find_ptr_in_seq'0 s i p
  = ([%#slist_reversal_lasso22] if i = Seq.length s then
    C_None'1
  else
    if UIntSize.to_int (Seq.get s i) = p then C_Some'1 i else find_ptr_in_seq'0 s (i + 1) p
  )
  
  axiom find_ptr_in_seq'0_spec : forall s : Seq.seq usize, i : int, p : int . ([%#slist_reversal_lasso5] 0 <= i
  /\ i <= Seq.length s)
   -> ([%#slist_reversal_lasso6] match find_ptr_in_seq'0 s i p with
    | C_None'1 -> forall j : int . i <= j /\ j < Seq.length s  -> UIntSize.to_int (Seq.get s j) <> p
    | C_Some'1 j -> i <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = p
    end)
  
  use seq.Seq
  
  use seq.Seq
  
  function pigeon'0 [#"list_reversal_lasso.rs" 219 4 219 42] (s : Seq.seq usize) (n : int) : bool
  
  axiom pigeon'0_def : forall s : Seq.seq usize, n : int . ([%#slist_reversal_lasso9] 0 <= n)
   -> ([%#slist_reversal_lasso10] forall i : int . 0 <= i /\ i < Seq.length s  -> UIntSize.to_int (Seq.get s i) < n)
   -> ([%#slist_reversal_lasso11] forall i : int, j : int . 0 <= i
  /\ i < Seq.length s /\ 0 <= j /\ j < Seq.length s /\ i <> j  -> Seq.get s i <> Seq.get s j)
   -> pigeon'0 s n
  = ([%#slist_reversal_lasso23] if n = 0 then
    true
  else
    match find_ptr_in_seq'0 s 0 (n - 1) with
      | C_None'1 -> pigeon'0 s (n - 1)
      | C_Some'1 i -> match find_ptr_in_seq'0 s (i + 1) (n - 1) with
        | C_None'1 -> pigeon'0 (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s))) (n - 1)
        | C_Some'1 _ -> true
        end
      end
  )
  
  axiom pigeon'0_spec : forall s : Seq.seq usize, n : int . ([%#slist_reversal_lasso9] 0 <= n)
   -> ([%#slist_reversal_lasso10] forall i : int . 0 <= i /\ i < Seq.length s  -> UIntSize.to_int (Seq.get s i) < n)
   -> ([%#slist_reversal_lasso11] forall i : int, j : int . 0 <= i
  /\ i < Seq.length s /\ 0 <= j /\ j < Seq.length s /\ i <> j  -> Seq.get s i <> Seq.get s j)
   -> ([%#slist_reversal_lasso12] Seq.length s <= n) && ([%#slist_reversal_lasso13] pigeon'0 s n)
  
  use seq.Seq
  
  constant self  : t_Memory'0
  
  constant first  : usize
  
  constant last  : usize
  
  constant s  : Seq.seq usize
  
  function find_lasso_aux'0 [#"list_reversal_lasso.rs" 244 4 244 95] (self : t_Memory'0) (first : usize) (last : usize) (s : Seq.seq usize) : (Seq.seq usize, t_Option'0)
    
  
  goal vc_find_lasso_aux'0 : ([%#slist_reversal_lasso2] list_seg'0 self first s last 0 (Seq.length s))
   -> ([%#slist_reversal_lasso1] last = v_NULL'0 \/ nonnull_ptr'0 self last)
   -> ([%#slist_reversal_lasso0] mem_is_well_formed'0 self)
   -> (if last = v_NULL'0 then
    [%#slist_reversal_lasso3] match (s, C_None'0) with
      | (s, C_None'0) -> list'0 self first s
      | (s1, C_Some'0 s2) -> lasso'0 self first s1 s2
      end
  else
    ([@expl:find_ptr_in_seq requires] [%#slist_reversal_lasso5] 0 <= 0 /\ 0 <= Seq.length s)
    /\ (([%#slist_reversal_lasso6] match find_ptr_in_seq'0 s 0 (UIntSize.to_int last) with
      | C_None'1 -> forall j : int . 0 <= j /\ j < Seq.length s
       -> UIntSize.to_int (Seq.get s j) <> UIntSize.to_int last
      | C_Some'1 j -> 0 <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = UIntSize.to_int last
      end)
     -> match find_ptr_in_seq'0 s 0 (UIntSize.to_int last) with
      | C_None'1 -> ([%#svec8] Seq.length (view'0 self.t_Memory__0'0) <= UIntSize.to_int (v_MAX'0 : usize))
       -> (([@expl:pigeon requires #0] [%#slist_reversal_lasso9] 0 <= Seq.length (view'0 self.t_Memory__0'0))
      && ([@expl:pigeon requires #1] [%#slist_reversal_lasso10] forall i : int . 0 <= i /\ i < Seq.length s
       -> UIntSize.to_int (Seq.get s i) < Seq.length (view'0 self.t_Memory__0'0))
      && ([@expl:pigeon requires #2] [%#slist_reversal_lasso11] forall i : int, j : int . 0 <= i
      /\ i < Seq.length s /\ 0 <= j /\ j < Seq.length s /\ i <> j  -> Seq.get s i <> Seq.get s j))
      /\ (([%#slist_reversal_lasso12] Seq.length s <= Seq.length (view'0 self.t_Memory__0'0))
      && ([%#slist_reversal_lasso13] pigeon'0 s (Seq.length (view'0 self.t_Memory__0'0)))
       -> (if pigeon'0 s (Seq.length (view'0 self.t_Memory__0'0)) then
        ((([@expl:find_lasso_aux requires #0] [%#slist_reversal_lasso0] mem_is_well_formed'0 self)
        && ([@expl:find_lasso_aux requires #1] [%#slist_reversal_lasso1] index_logic'0 self last = v_NULL'0
        \/ nonnull_ptr'0 self (index_logic'0 self last))
        && ([@expl:find_lasso_aux requires #2] [%#slist_reversal_lasso2] list_seg'0 self first (Seq.snoc s last) (index_logic'0 self last) 0 (Seq.length (Seq.snoc s last))))
        /\ 0 <= ([%#slist_reversal_lasso4] Seq.length (view'0 self.t_Memory__0'0) - Seq.length s)
        /\ ([%#slist_reversal_lasso4] Seq.length (view'0 self.t_Memory__0'0) - Seq.length (Seq.snoc s last))
        < ([%#slist_reversal_lasso4] Seq.length (view'0 self.t_Memory__0'0) - Seq.length s))
        /\ (([%#slist_reversal_lasso3] match find_lasso_aux'0 self first (index_logic'0 self last) (Seq.snoc s last) with
          | (s, C_None'0) -> list'0 self first s
          | (s1, C_Some'0 s2) -> lasso'0 self first s1 s2
          end)
         -> ([%#slist_reversal_lasso3] match find_lasso_aux'0 self first (index_logic'0 self last) (Seq.snoc s last) with
          | (s, C_None'0) -> list'0 self first s
          | (s1, C_Some'0 s2) -> lasso'0 self first s1 s2
          end))
      else
        [%#slist_reversal_lasso3] match (s, C_None'0) with
          | (s, C_None'0) -> list'0 self first s
          | (s1, C_Some'0 s2) -> lasso'0 self first s1 s2
          end
      ))
      | C_Some'1 i -> [%#slist_reversal_lasso3] match (Seq.([..]) s 0 (i + 1), C_Some'0 (Seq.([..]) s (i
      + 1) (Seq.length s))) with
        | (s, C_None'0) -> list'0 self first s
        | (s1, C_Some'0 s2) -> lasso'0 self first s1 s2
        end
      end)
  )
end
module M_list_reversal_lasso__qyi2644757663130641572__find_lasso [#"list_reversal_lasso.rs" 270 4 270 71] (* Memory *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 264 15 264 40
  let%span slist_reversal_lasso1 = "list_reversal_lasso.rs" 265 15 265 55
  let%span slist_reversal_lasso2 = "list_reversal_lasso.rs" 266 14 269 5
  let%span slist_reversal_lasso3 = "list_reversal_lasso.rs" 236 15 236 40
  let%span slist_reversal_lasso4 = "list_reversal_lasso.rs" 237 15 237 53
  let%span slist_reversal_lasso5 = "list_reversal_lasso.rs" 238 15 238 56
  let%span slist_reversal_lasso6 = "list_reversal_lasso.rs" 239 14 242 5
  let%span slist_reversal_lasso7 = "list_reversal_lasso.rs" 243 14 243 37
  let%span slist_reversal_lasso8 = "list_reversal_lasso.rs" 272 13 272 65
  let%span slist_reversal_lasso9 = "list_reversal_lasso.rs" 57 12 57 95
  let%span slist_reversal_lasso10 = "list_reversal_lasso.rs" 13 0 13 15
  let%span slist_reversal_lasso11 = "list_reversal_lasso.rs" 50 20 50 70
  let%span slist_reversal_lasso12 = "list_reversal_lasso.rs" 93 12 93 53
  let%span slist_reversal_lasso13 = "list_reversal_lasso.rs" 152 8 158 9
  let%span slist_reversal_lasso14 = "list_reversal_lasso.rs" 245 8 259 9
  let%span slist_reversal_lasso15 = "list_reversal_lasso.rs" 83 12 85 98
  let%span svec16 = "../../../creusot-contracts/src/std/vec.rs" 18 14 18 41
  let%span slist_reversal_lasso17 = "list_reversal_lasso.rs" 21 8 21 31
  let%span slist_reversal_lasso18 = "list_reversal_lasso.rs" 213 15 213 21
  let%span slist_reversal_lasso19 = "list_reversal_lasso.rs" 214 15 214 65
  let%span slist_reversal_lasso20 = "list_reversal_lasso.rs" 215 15 215 111
  let%span slist_reversal_lasso21 = "list_reversal_lasso.rs" 216 14 216 26
  let%span slist_reversal_lasso22 = "list_reversal_lasso.rs" 217 14 217 20
  let%span slist_reversal_lasso23 = "list_reversal_lasso.rs" 218 14 218 15
  let%span slist_reversal_lasso24 = "list_reversal_lasso.rs" 220 8 232 9
  let%span slist_reversal_lasso25 = "list_reversal_lasso.rs" 198 15 198 37
  let%span slist_reversal_lasso26 = "list_reversal_lasso.rs" 199 14 202 5
  let%span slist_reversal_lasso27 = "list_reversal_lasso.rs" 203 14 203 25
  let%span slist_reversal_lasso28 = "list_reversal_lasso.rs" 205 8 209 9
  let%span sops29 = "../../../creusot-contracts/src/logic/ops.rs" 31 8 31 32
  
  use prelude.prelude.Opaque
  
  type t_NonNull'0  =
    { t_NonNull__pointer'0: opaque_ptr }
  
  type t_Unique'0  =
    { t_Unique__pointer'0: t_NonNull'0; t_Unique__qy95zmarker'0: () }
  
  use prelude.prelude.UIntSize
  
  type t_Cap'0  =
    { t_Cap__0'0: usize }
  
  type t_RawVec'0  =
    { t_RawVec__ptr'0: t_Unique'0; t_RawVec__cap'0: t_Cap'0; t_RawVec__alloc'0: () }
  
  type t_Vec'0  =
    { t_Vec__buf'0: t_RawVec'0; t_Vec__len'0: usize }
  
  type t_Memory'0  =
    { t_Memory__0'0: t_Vec'0 }
  
  use seq.Seq
  
  constant v_MAX'0 : usize = (18446744073709551615 : usize)
  
  use prelude.prelude.UIntSize
  
  use prelude.prelude.Int
  
  use seq.Seq
  
  function view'0 (self : t_Vec'0) : Seq.seq usize
  
  axiom view'0_spec : forall self : t_Vec'0 . [%#svec16] Seq.length (view'0 self) <= UIntSize.to_int (v_MAX'0 : usize)
  
  predicate nonnull_ptr'0 [#"list_reversal_lasso.rs" 49 4 49 44] (self : t_Memory'0) (i : usize) =
    [%#slist_reversal_lasso11] Seq.length (view'0 self.t_Memory__0'0) <= UIntSize.to_int (v_MAX'0 : usize)
    /\ UIntSize.to_int i < Seq.length (view'0 self.t_Memory__0'0)
  
  use seq.Seq
  
  function index_logic'1 [@inline:trivial] (self : t_Vec'0) (ix : usize) : usize =
    [%#sops29] Seq.get (view'0 self) (UIntSize.to_int ix)
  
  function index_logic'0 [#"list_reversal_lasso.rs" 20 4 20 39] (self : t_Memory'0) (i : usize) : usize =
    [%#slist_reversal_lasso17] index_logic'1 self.t_Memory__0'0 i
  
  constant v_NULL'0 : usize = [%#slist_reversal_lasso10] (18446744073709551615 : usize)
  
  predicate mem_is_well_formed'0 [#"list_reversal_lasso.rs" 55 4 55 43] (self : t_Memory'0) =
    [%#slist_reversal_lasso9] forall i : usize . nonnull_ptr'0 self i
     -> index_logic'0 self i = v_NULL'0 \/ nonnull_ptr'0 self (index_logic'0 self i)
  
  type t_Option'0  =
    | C_None'0
    | C_Some'0 (Seq.seq usize)
  
  predicate list_seg'0 [#"list_reversal_lasso.rs" 81 4 81 81] (self : t_Memory'0) (first : usize) (s : Seq.seq usize) (last : usize) (l : int) (h : int)
    
   =
    [%#slist_reversal_lasso15] first = (if h = l then last else Seq.get s l)
    /\ (forall i : int . l <= i /\ i < h
     -> nonnull_ptr'0 self (Seq.get s i)
    /\ index_logic'0 self (Seq.get s i) = (if i = h - 1 then last else Seq.get s (i + 1)))
    /\ (forall i : int, j : int . l <= i /\ i < h /\ l <= j /\ j < h /\ i <> j  -> Seq.get s i <> Seq.get s j)
  
  predicate list'0 [#"list_reversal_lasso.rs" 91 4 91 54] (self : t_Memory'0) (first : usize) (s : Seq.seq usize) =
    [%#slist_reversal_lasso12] list_seg'0 self first s v_NULL'0 0 (Seq.length s)
  
  predicate lasso'0 [#"list_reversal_lasso.rs" 151 4 151 70] (self : t_Memory'0) (first : usize) (s1 : Seq.seq usize) (s2 : Seq.seq usize)
    
   =
    [%#slist_reversal_lasso13] let mid = if Seq.length s2 = 0 then
      Seq.get s1 (Seq.length s1 - 1)
    else
      Seq.get s2 0
     in Seq.length s1 > 0
    /\ (forall i : int, j : int . 0 <= i /\ i < Seq.length s1 /\ 0 <= j /\ j < Seq.length s2
     -> Seq.get s1 i <> Seq.get s2 j)
    /\ list_seg'0 self first s1 mid 0 (Seq.length s1)
    /\ list_seg'0 self mid s2 (Seq.get s1 (Seq.length s1 - 1)) 0 (Seq.length s2)
  
  use seq.Seq
  
  type t_Option'1  =
    | C_None'1
    | C_Some'1 int
  
  use seq.Seq
  
  use seq.Seq
  
  function find_ptr_in_seq'0 [#"list_reversal_lasso.rs" 204 4 204 66] (s : Seq.seq usize) (i : int) (p : int) : t_Option'1
    
  
  axiom find_ptr_in_seq'0_def : forall s : Seq.seq usize, i : int, p : int . ([%#slist_reversal_lasso25] 0 <= i
  /\ i <= Seq.length s)
   -> find_ptr_in_seq'0 s i p
  = ([%#slist_reversal_lasso28] if i = Seq.length s then
    C_None'1
  else
    if UIntSize.to_int (Seq.get s i) = p then C_Some'1 i else find_ptr_in_seq'0 s (i + 1) p
  )
  
  axiom find_ptr_in_seq'0_spec : forall s : Seq.seq usize, i : int, p : int . ([%#slist_reversal_lasso25] 0 <= i
  /\ i <= Seq.length s)
   -> ([%#slist_reversal_lasso26] match find_ptr_in_seq'0 s i p with
    | C_None'1 -> forall j : int . i <= j /\ j < Seq.length s  -> UIntSize.to_int (Seq.get s j) <> p
    | C_Some'1 j -> i <= j /\ j < Seq.length s /\ UIntSize.to_int (Seq.get s j) = p
    end)
  
  function pigeon'0 [#"list_reversal_lasso.rs" 219 4 219 42] (s : Seq.seq usize) (n : int) : bool
  
  axiom pigeon'0_def : forall s : Seq.seq usize, n : int . ([%#slist_reversal_lasso18] 0 <= n)
   -> ([%#slist_reversal_lasso19] forall i : int . 0 <= i /\ i < Seq.length s  -> UIntSize.to_int (Seq.get s i) < n)
   -> ([%#slist_reversal_lasso20] forall i : int, j : int . 0 <= i
  /\ i < Seq.length s /\ 0 <= j /\ j < Seq.length s /\ i <> j  -> Seq.get s i <> Seq.get s j)
   -> pigeon'0 s n
  = ([%#slist_reversal_lasso24] if n = 0 then
    true
  else
    match find_ptr_in_seq'0 s 0 (n - 1) with
      | C_None'1 -> pigeon'0 s (n - 1)
      | C_Some'1 i -> match find_ptr_in_seq'0 s (i + 1) (n - 1) with
        | C_None'1 -> pigeon'0 (Seq.(++) (Seq.([..]) s 0 i) (Seq.([..]) s (i + 1) (Seq.length s))) (n - 1)
        | C_Some'1 _ -> true
        end
      end
  )
  
  axiom pigeon'0_spec : forall s : Seq.seq usize, n : int . ([%#slist_reversal_lasso18] 0 <= n)
   -> ([%#slist_reversal_lasso19] forall i : int . 0 <= i /\ i < Seq.length s  -> UIntSize.to_int (Seq.get s i) < n)
   -> ([%#slist_reversal_lasso20] forall i : int, j : int . 0 <= i
  /\ i < Seq.length s /\ 0 <= j /\ j < Seq.length s /\ i <> j  -> Seq.get s i <> Seq.get s j)
   -> ([%#slist_reversal_lasso21] Seq.length s <= n) && ([%#slist_reversal_lasso22] pigeon'0 s n)
  
  use seq.Seq
  
  function find_lasso_aux'0 [#"list_reversal_lasso.rs" 244 4 244 95] (self : t_Memory'0) (first : usize) (last : usize) (s : Seq.seq usize) : (Seq.seq usize, t_Option'0)
    
  
  axiom find_lasso_aux'0_def : forall self : t_Memory'0, first : usize, last : usize, s : Seq.seq usize . ([%#slist_reversal_lasso3] mem_is_well_formed'0 self)
   -> ([%#slist_reversal_lasso4] last = v_NULL'0 \/ nonnull_ptr'0 self last)
   -> ([%#slist_reversal_lasso5] list_seg'0 self first s last 0 (Seq.length s))
   -> find_lasso_aux'0 self first last s
  = ([%#slist_reversal_lasso14] if last = v_NULL'0 then
    (s, C_None'0)
  else
    match find_ptr_in_seq'0 s 0 (UIntSize.to_int last) with
      | C_None'1 -> if pigeon'0 s (Seq.length (view'0 self.t_Memory__0'0)) then
        find_lasso_aux'0 self first (index_logic'0 self last) (Seq.snoc s last)
      else
        (s, C_None'0)
      
      | C_Some'1 i -> (Seq.([..]) s 0 (i + 1), C_Some'0 (Seq.([..]) s (i + 1) (Seq.length s)))
      end
  )
  
  axiom find_lasso_aux'0_spec : forall self : t_Memory'0, first : usize, last : usize, s : Seq.seq usize . ([%#slist_reversal_lasso3] mem_is_well_formed'0 self)
   -> ([%#slist_reversal_lasso4] last = v_NULL'0 \/ nonnull_ptr'0 self last)
   -> ([%#slist_reversal_lasso5] list_seg'0 self first s last 0 (Seq.length s))
   -> ([%#slist_reversal_lasso6] match find_lasso_aux'0 self first last s with
    | (s, C_None'0) -> list'0 self first s
    | (s1, C_Some'0 s2) -> lasso'0 self first s1 s2
    end)
  
  constant self  : t_Memory'0
  
  constant first  : usize
  
  function find_lasso'0 [#"list_reversal_lasso.rs" 270 4 270 71] (self : t_Memory'0) (first : usize) : (Seq.seq usize, t_Option'0)
    
  
  goal vc_find_lasso'0 : ([%#slist_reversal_lasso1] first = v_NULL'0 \/ nonnull_ptr'0 self first)
   -> ([%#slist_reversal_lasso0] mem_is_well_formed'0 self)
   -> (([@expl:find_lasso_aux requires #0] [%#slist_reversal_lasso3] mem_is_well_formed'0 self)
  && ([@expl:find_lasso_aux requires #1] [%#slist_reversal_lasso4] first = v_NULL'0 \/ nonnull_ptr'0 self first)
  && ([@expl:find_lasso_aux requires #2] [%#slist_reversal_lasso5] list_seg'0 self first (Seq.empty : Seq.seq usize) first 0 (Seq.length (Seq.empty : Seq.seq usize))))
  /\ (([%#slist_reversal_lasso6] match find_lasso_aux'0 self first first (Seq.empty : Seq.seq usize) with
    | (s, C_None'0) -> list'0 self first s
    | (s1, C_Some'0 s2) -> lasso'0 self first s1 s2
    end)
   -> ([%#slist_reversal_lasso2] match find_lasso_aux'0 self first first (Seq.empty : Seq.seq usize) with
    | (s, C_None'0) -> list'0 self first s
    | (s1, C_Some'0 s2) -> lasso'0 self first s1 s2
    end))
end
module M_list_reversal_lasso__qyi13715866738248475091__index__refines [#"list_reversal_lasso.rs" 30 4 30 35] (* <Memory as std::ops::Index<usize>> *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 30 4 30 35
  
  goal refines : [%#slist_reversal_lasso0] true
end
module M_list_reversal_lasso__qyi14823043098042356205__index_mut__refines [#"list_reversal_lasso.rs" 41 4 41 47] (* <Memory as std::ops::IndexMut<usize>> *)
  let%span slist_reversal_lasso0 = "list_reversal_lasso.rs" 41 4 41 47
  
  goal refines : [%#slist_reversal_lasso0] true
end
