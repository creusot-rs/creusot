module M_ghost_vec
  use creusot.int.Int32
  use seq.Seq
  use mach.int.Int
  use creusot.prelude.MutBorrow
  use creusot.int.Int128
  use creusot.prelude.Any
  
  let rec new_i32 (return (x: Seq.seq Int32.t)) = any
    [ return (result: Seq.seq Int32.t) -> {result = (Seq.empty: Seq.seq Int32.t)} (! return {result}) ]
  
  type t_Option_i32 = None | Some Int32.t
  
  function get_i32 (self: Seq.seq Int32.t) (ix: int) : t_Option_i32 = if 0 <= ix /\ ix < Seq.length self then
      Some (Seq.get self ix)
    else
      None
  
  
  let rec deref_Ghost_Seq_i32 (self: Seq.seq Int32.t) (return (x: Seq.seq Int32.t)) = any
    [ return (result: Seq.seq Int32.t) -> {result = self} (! return {result}) ]
  
  let rec is_empty_ghost_i32 (self: Seq.seq Int32.t) (return (x: bool)) = any
    [ return (result: bool) -> {result = (Seq.length self = 0)} (! return {result}) ]
  
  let rec deref_mut_Ghost_Seq_i32 (self: MutBorrow.t (Seq.seq Int32.t)) (return (x: MutBorrow.t (Seq.seq Int32.t))) =
    any [ return (result: MutBorrow.t (Seq.seq Int32.t)) -> {result = self} (! return {result}) ]
  
  let rec push_back_ghost_i32 (self: MutBorrow.t (Seq.seq Int32.t)) (x: Int32.t) (return (x'0: ())) = any
    [ return (result: ()) -> {self.final = Seq.snoc self.current x} (! return {result}) ]
  
  predicate resolve_ref_Seq_i32 [@inline:trivial] (_1: MutBorrow.t (Seq.seq Int32.t)) = _1.final = _1.current
  
  meta "rewrite_def" predicate resolve_ref_Seq_i32
  
  let rec len_ghost_i32 (self: Seq.seq Int32.t) (return (x: int)) = any
    [ return (result: int) -> {result = Seq.length self} (! return {result}) ]
  
  let rec new (value: Int128.t) (return (x: int)) = any
    [ return (result: int) -> {result = Int128.to_int value} (! return {result}) ]
  
  let rec into_inner_Int (self: int) (return (x: int)) = any
    [ return (result: int) -> {result = self} (! return {result}) ]
  
  type t_Option_ref_i32 = None'0 | Some'0 Int32.t
  
  let rec get_ghost_i32 (self: Seq.seq Int32.t) (index: int) (return (x: t_Option_ref_i32)) = any
    [ return (result: t_Option_ref_i32) -> {match get_i32 self index with
        | None -> result = None'0
        | Some v -> result = Some'0 v
        end}
      (! return {result}) ]
  
  type t_Option_ref_i32'0 = None'1 | Some'1 (MutBorrow.t Int32.t)
  
  let rec get_mut_ghost_i32 (self: MutBorrow.t (Seq.seq Int32.t)) (index: int) (return (x: t_Option_ref_i32'0)) = any
    [ return (result: t_Option_ref_i32'0) -> {match result with
        | None'1 -> get_i32 self.current index = None /\ self.current = self.final
        | Some'1 r -> get_i32 self.current index = Some (r.current) /\ r.final = Seq.get self.final index
        end}
      {forall i: int. i <> index -> get_i32 self.current i = get_i32 self.final i}
      {Seq.length self.current = Seq.length self.final}
      (! return {result}) ]
  
  predicate resolve_ref_i32 [@inline:trivial] (_1: MutBorrow.t Int32.t) = _1.final = _1.current
  
  meta "rewrite_def" predicate resolve_ref_i32
  
  let rec elim_Some (_x: t_Option_ref_i32'0) (return (f0: MutBorrow.t Int32.t)) = any
    [ _k (f0: MutBorrow.t Int32.t) -> {Some'1 f0 = _x} (! return {f0})
    | _chk -> (! {match _x with
        | Some'1 _ -> true
        | _ -> false
        end}
      any) ]
  
  let rec pop_back_ghost_i32 (self: MutBorrow.t (Seq.seq Int32.t)) (return (x: t_Option_i32)) = any
    [ return (result: t_Option_i32) -> {match result with
        | None -> self.current = (Seq.empty: Seq.seq Int32.t) /\ self.current = self.final
        | Some r -> self.current = Seq.snoc self.final r
        end}
      (! return {result}) ]
  
  let rec new_unit (x: ()) (return (x'0: ())) = any [ return (result: ()) -> {result = x} (! return {result}) ]
  
  function push_front_i32 [@inline:trivial] (self: Seq.seq Int32.t) (x: Int32.t) : Seq.seq Int32.t = Seq.cons x self
  
  meta "rewrite_def" function push_front_i32
  
  let rec push_front_ghost_i32 (self: MutBorrow.t (Seq.seq Int32.t)) (x: Int32.t) (return (x'0: ())) = any
    [ return (result: ()) -> {self.final = push_front_i32 self.current x} (! return {result}) ]
  
  function tail_i32 (self: Seq.seq Int32.t) : Seq.seq Int32.t = Seq.([..]) self 1 (Seq.length self)
  
  let rec pop_front_ghost_i32 (self: MutBorrow.t (Seq.seq Int32.t)) (return (x: t_Option_i32)) = any
    [ return (result: t_Option_i32) -> {match result with
        | None -> self.current = (Seq.empty: Seq.seq Int32.t) /\ self.current = self.final
        | Some r -> Seq.length self.current > 0 /\ r = Seq.get self.current 0 /\ self.final = tail_i32 self.current
        end}
      (! return {result}) ]
  
  meta "compute_max_steps" 1000000
  
  meta "select_lsinst" "all"
  
  let rec ghost_vec (return (x: ())) = (! bb0
    [ bb0 = s0 [ s0 = new_i32 (fun (_ret: Seq.seq Int32.t) -> [ &v <- _ret ] s1) | s1 = bb1 ]
    | bb1 = s0
      [ s0 = {[@expl:assertion] forall i: int. get_i32 v i = None} s1
      | s1 = deref_Ghost_Seq_i32 {v} (fun (_ret: Seq.seq Int32.t) -> [ &_10 <- _ret ] s2)
      | s2 = bb2 ]
    | bb2 = s0 [ s0 = is_empty_ghost_i32 {_10} (fun (_ret: bool) -> [ &_8 <- _ret ] s1) | s1 = bb3 ]
    | bb3 = any [ br0 -> {_8 = false} (! bb5) | br1 -> {_8} (! bb4) ]
    | bb4 = s0
      [ s0 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_16 <- _ret ] [ &v <- _ret.final ] s1)
      | s1 = deref_mut_Ghost_Seq_i32 {_16} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_15 <- _ret ] s2)
      | s2 = bb6 ]
    | bb6 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_15.current} {MutBorrow.get_id _15}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_14 <- _ret ] [ &_15 <- { _15 with current = _ret.final } ] s1)
      | s1 = push_back_ghost_i32 {_14} {(21: Int32.t)} (fun (_ret: ()) -> [ &_13 <- _ret ] s2)
      | s2 = bb7 ]
    | bb7 = s0
      [ s0 = -{resolve_ref_Seq_i32 _15}- s1
      | s1 = deref_Ghost_Seq_i32 {v} (fun (_ret: Seq.seq Int32.t) -> [ &_20 <- _ret ] s2)
      | s2 = bb8 ]
    | bb8 = s0 [ s0 = is_empty_ghost_i32 {_20} (fun (_ret: bool) -> [ &_18 <- _ret ] s1) | s1 = bb9 ]
    | bb9 = any [ br0 -> {_18 = false} (! bb11) | br1 -> {_18} (! bb10) ]
    | bb10 = {false} any
    | bb11 = s0
      [ s0 = {[@expl:assertion] Seq.get v 0 = (21: Int32.t)} s1
      | s1 = {[@expl:assertion] Seq.length v = 1} s2
      | s2 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_32 <- _ret ] [ &v <- _ret.final ] s3)
      | s3 = deref_mut_Ghost_Seq_i32 {_32} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_31 <- _ret ] s4)
      | s4 = bb12 ]
    | bb12 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_31.current} {MutBorrow.get_id _31}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_30 <- _ret ] [ &_31 <- { _31 with current = _ret.final } ] s1)
      | s1 = push_back_ghost_i32 {_30} {(10: Int32.t)} (fun (_ret: ()) -> [ &_29 <- _ret ] s2)
      | s2 = bb13 ]
    | bb13 = s0
      [ s0 = -{resolve_ref_Seq_i32 _31}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_36 <- _ret ] [ &v <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_36} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_35 <- _ret ] s3)
      | s3 = bb14 ]
    | bb14 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_35.current} {MutBorrow.get_id _35}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_34 <- _ret ] [ &_35 <- { _35 with current = _ret.final } ] s1)
      | s1 = push_back_ghost_i32 {_34} {(30: Int32.t)} (fun (_ret: ()) -> [ &_33 <- _ret ] s2)
      | s2 = bb15 ]
    | bb15 = s0
      [ s0 = -{resolve_ref_Seq_i32 _35}- s1
      | s1 = deref_Ghost_Seq_i32 {v} (fun (_ret: Seq.seq Int32.t) -> [ &_39 <- _ret ] s2)
      | s2 = bb16 ]
    | bb16 = s0 [ s0 = len_ghost_i32 {_39} (fun (_ret: int) -> [ &len <- _ret ] s1) | s1 = bb17 ]
    | bb17 = s0
      [ s0 = {[@expl:assertion] len = 3} s1
      | s1 = {[@expl:assertion] Seq.get v 0 = (21: Int32.t)
        /\ Seq.get v 1 = (10: Int32.t) /\ Seq.get v 2 = (30: Int32.t)}
        s2
      | s2 = deref_Ghost_Seq_i32 {v} (fun (_ret: Seq.seq Int32.t) -> [ &_49 <- _ret ] s3)
      | s3 = bb18 ]
    | bb18 = s0 [ s0 = new {(1: Int128.t)} (fun (_ret: int) -> [ &_52 <- _ret ] s1) | s1 = bb19 ]
    | bb19 = s0 [ s0 = into_inner_Int {_52} (fun (_ret: int) -> [ &_51 <- _ret ] s1) | s1 = bb20 ]
    | bb20 = s0 [ s0 = get_ghost_i32 {_49} {_51} (fun (_ret: t_Option_ref_i32) -> [ &get1 <- _ret ] s1) | s1 = bb21 ]
    | bb21 = s0 [ s0 = deref_Ghost_Seq_i32 {v} (fun (_ret: Seq.seq Int32.t) -> [ &_55 <- _ret ] s1) | s1 = bb22 ]
    | bb22 = s0 [ s0 = new {(3: Int128.t)} (fun (_ret: int) -> [ &_58 <- _ret ] s1) | s1 = bb23 ]
    | bb23 = s0 [ s0 = into_inner_Int {_58} (fun (_ret: int) -> [ &_57 <- _ret ] s1) | s1 = bb24 ]
    | bb24 = s0 [ s0 = get_ghost_i32 {_55} {_57} (fun (_ret: t_Option_ref_i32) -> [ &get2 <- _ret ] s1) | s1 = bb25 ]
    | bb25 = s0
      [ s0 = {[@expl:assertion] get1 = Some'0 (10: Int32.t)} s1
      | s1 = {[@expl:assertion] get2 = None'0} s2
      | s2 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_69 <- _ret ] [ &v <- _ret.final ] s3)
      | s3 = deref_mut_Ghost_Seq_i32 {_69} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_68 <- _ret ] s4)
      | s4 = bb26 ]
    | bb26 = s0 [ s0 = new {(0: Int128.t)} (fun (_ret: int) -> [ &_71 <- _ret ] s1) | s1 = bb27 ]
    | bb27 = s0 [ s0 = into_inner_Int {_71} (fun (_ret: int) -> [ &_70 <- _ret ] s1) | s1 = bb28 ]
    | bb28 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_68.current} {MutBorrow.get_id _68}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_67 <- _ret ] [ &_68 <- { _68 with current = _ret.final } ] s1)
      | s1 = get_mut_ghost_i32 {_67} {_70} (fun (_ret: t_Option_ref_i32'0) -> [ &_66 <- _ret ] s2)
      | s2 = bb29 ]
    | bb29 = any [ br0 -> {_66 = None'1} (! bb32) | br1 (x0: MutBorrow.t Int32.t) -> {_66 = Some'1 x0} (! bb31) ]
    | bb32 = s0
      [ s0 = -{match _66 with
          | Some'1 x'0 -> resolve_ref_i32 x'0
          | _ -> true
          end}-
        s1
      | s1 = -{resolve_ref_Seq_i32 _68}- s2
      | s2 = bb33 ]
    | bb31 = s0
      [ s0 = elim_Some {_66} (fun (r0: MutBorrow.t Int32.t) -> [ &x <- r0 ] s1)
      | s1 = [ &x <- { x with current = (42: Int32.t) } ] s2
      | s2 = -{resolve_ref_i32 x}- s3
      | s3 = -{resolve_ref_Seq_i32 _68}- s4
      | s4 = bb33 ]
    | bb33 = s0
      [ s0 = {[@expl:assertion] Seq.get v 0 = (42: Int32.t)} s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_80 <- _ret ] [ &v <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_80} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_79 <- _ret ] s3)
      | s3 = bb34 ]
    | bb34 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_79.current} {MutBorrow.get_id _79}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_78 <- _ret ] [ &_79 <- { _79 with current = _ret.final } ] s1)
      | s1 = pop_back_ghost_i32 {_78} (fun (_ret: t_Option_i32) -> [ &pop1 <- _ret ] s2)
      | s2 = bb35 ]
    | bb35 = s0
      [ s0 = -{resolve_ref_Seq_i32 _79}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_84 <- _ret ] [ &v <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_84} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_83 <- _ret ] s3)
      | s3 = bb36 ]
    | bb36 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_83.current} {MutBorrow.get_id _83}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_82 <- _ret ] [ &_83 <- { _83 with current = _ret.final } ] s1)
      | s1 = pop_back_ghost_i32 {_82} (fun (_ret: t_Option_i32) -> [ &pop2 <- _ret ] s2)
      | s2 = bb37 ]
    | bb37 = s0
      [ s0 = -{resolve_ref_Seq_i32 _83}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_88 <- _ret ] [ &v <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_88} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_87 <- _ret ] s3)
      | s3 = bb38 ]
    | bb38 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_87.current} {MutBorrow.get_id _87}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_86 <- _ret ] [ &_87 <- { _87 with current = _ret.final } ] s1)
      | s1 = pop_back_ghost_i32 {_86} (fun (_ret: t_Option_i32) -> [ &pop3 <- _ret ] s2)
      | s2 = bb39 ]
    | bb39 = s0
      [ s0 = -{resolve_ref_Seq_i32 _87}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_92 <- _ret ] [ &v <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_92} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_91 <- _ret ] s3)
      | s3 = bb40 ]
    | bb40 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_91.current} {MutBorrow.get_id _91}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_90 <- _ret ] [ &_91 <- { _91 with current = _ret.final } ] s1)
      | s1 = pop_back_ghost_i32 {_90} (fun (_ret: t_Option_i32) -> [ &pop4 <- _ret ] s2)
      | s2 = bb41 ]
    | bb41 = s0
      [ s0 = -{resolve_ref_Seq_i32 _91}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_96 <- _ret ] [ &v <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_96} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_95 <- _ret ] s3)
      | s3 = bb42 ]
    | bb42 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_95.current} {MutBorrow.get_id _95}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_94 <- _ret ] [ &_95 <- { _95 with current = _ret.final } ] s1)
      | s1 = pop_back_ghost_i32 {_94} (fun (_ret: t_Option_i32) -> [ &pop5 <- _ret ] s2)
      | s2 = bb43 ]
    | bb43 = s0
      [ s0 = -{resolve_ref_Seq_i32 _95}- s1
      | s1 = {[@expl:assertion] pop1 = Some (30: Int32.t)} s2
      | s2 = {[@expl:assertion] pop2 = Some (10: Int32.t)} s3
      | s3 = {[@expl:assertion] pop3 = Some (42: Int32.t)} s4
      | s4 = {[@expl:assertion] pop4 = None} s5
      | s5 = {[@expl:assertion] pop5 = None} s6
      | s6 = new_unit {_6} (fun (_ret: ()) -> [ &_5 <- _ret ] s7)
      | s7 = bb44 ]
    | bb44 = s0 [ s0 = new_i32 (fun (_ret: Seq.seq Int32.t) -> [ &v'0 <- _ret ] s1) | s1 = bb45 ]
    | bb45 = s0
      [ s0 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v'0}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_118 <- _ret ] [ &v'0 <- _ret.final ] s1)
      | s1 = deref_mut_Ghost_Seq_i32 {_118} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_117 <- _ret ] s2)
      | s2 = bb46 ]
    | bb46 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_117.current} {MutBorrow.get_id _117}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_116 <- _ret ] [ &_117 <- { _117 with current = _ret.final } ] s1)
      | s1 = push_front_ghost_i32 {_116} {(1: Int32.t)} (fun (_ret: ()) -> [ &_115 <- _ret ] s2)
      | s2 = bb47 ]
    | bb47 = s0
      [ s0 = -{resolve_ref_Seq_i32 _117}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v'0}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_122 <- _ret ] [ &v'0 <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_122} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_121 <- _ret ] s3)
      | s3 = bb48 ]
    | bb48 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_121.current} {MutBorrow.get_id _121}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_120 <- _ret ] [ &_121 <- { _121 with current = _ret.final } ] s1)
      | s1 = push_front_ghost_i32 {_120} {(2: Int32.t)} (fun (_ret: ()) -> [ &_119 <- _ret ] s2)
      | s2 = bb49 ]
    | bb49 = s0
      [ s0 = -{resolve_ref_Seq_i32 _121}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v'0}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_126 <- _ret ] [ &v'0 <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_126} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_125 <- _ret ] s3)
      | s3 = bb50 ]
    | bb50 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_125.current} {MutBorrow.get_id _125}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_124 <- _ret ] [ &_125 <- { _125 with current = _ret.final } ] s1)
      | s1 = push_front_ghost_i32 {_124} {(3: Int32.t)} (fun (_ret: ()) -> [ &_123 <- _ret ] s2)
      | s2 = bb51 ]
    | bb51 = s0
      [ s0 = -{resolve_ref_Seq_i32 _125}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v'0}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_130 <- _ret ] [ &v'0 <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_130} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_129 <- _ret ] s3)
      | s3 = bb52 ]
    | bb52 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_129.current} {MutBorrow.get_id _129}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_128 <- _ret ] [ &_129 <- { _129 with current = _ret.final } ] s1)
      | s1 = pop_front_ghost_i32 {_128} (fun (_ret: t_Option_i32) -> [ &pop1'0 <- _ret ] s2)
      | s2 = bb53 ]
    | bb53 = s0
      [ s0 = -{resolve_ref_Seq_i32 _129}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v'0}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_134 <- _ret ] [ &v'0 <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_134} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_133 <- _ret ] s3)
      | s3 = bb54 ]
    | bb54 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_133.current} {MutBorrow.get_id _133}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_132 <- _ret ] [ &_133 <- { _133 with current = _ret.final } ] s1)
      | s1 = pop_front_ghost_i32 {_132} (fun (_ret: t_Option_i32) -> [ &pop2'0 <- _ret ] s2)
      | s2 = bb55 ]
    | bb55 = s0
      [ s0 = -{resolve_ref_Seq_i32 _133}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v'0}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_138 <- _ret ] [ &v'0 <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_138} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_137 <- _ret ] s3)
      | s3 = bb56 ]
    | bb56 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_137.current} {MutBorrow.get_id _137}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_136 <- _ret ] [ &_137 <- { _137 with current = _ret.final } ] s1)
      | s1 = pop_front_ghost_i32 {_136} (fun (_ret: t_Option_i32) -> [ &pop3'0 <- _ret ] s2)
      | s2 = bb57 ]
    | bb57 = s0
      [ s0 = -{resolve_ref_Seq_i32 _137}- s1
      | s1 = MutBorrow.borrow_mut <Seq.seq Int32.t> {v'0}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_142 <- _ret ] [ &v'0 <- _ret.final ] s2)
      | s2 = deref_mut_Ghost_Seq_i32 {_142} (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) -> [ &_141 <- _ret ] s3)
      | s3 = bb58 ]
    | bb58 = s0
      [ s0 = MutBorrow.borrow_final <Seq.seq Int32.t> {_141.current} {MutBorrow.get_id _141}
          (fun (_ret: MutBorrow.t (Seq.seq Int32.t)) ->
            [ &_140 <- _ret ] [ &_141 <- { _141 with current = _ret.final } ] s1)
      | s1 = pop_front_ghost_i32 {_140} (fun (_ret: t_Option_i32) -> [ &pop4'0 <- _ret ] s2)
      | s2 = bb59 ]
    | bb59 = s0
      [ s0 = -{resolve_ref_Seq_i32 _141}- s1
      | s1 = {[@expl:assertion] pop1'0 = Some (3: Int32.t)} s2
      | s2 = {[@expl:assertion] pop2'0 = Some (2: Int32.t)} s3
      | s3 = {[@expl:assertion] pop3'0 = Some (1: Int32.t)} s4
      | s4 = {[@expl:assertion] pop4'0 = None} s5
      | s5 = new_unit {_114} (fun (_ret: ()) -> [ &_113 <- _ret ] s6)
      | s6 = bb60 ]
    | bb60 = return {_0}
    | bb5 = {false} any ]
    [ & _0: () = Any.any_l ()
    | & v: Seq.seq Int32.t = Any.any_l ()
    | & _5: () = Any.any_l ()
    | & _6: () = Any.any_l ()
    | & _8: bool = Any.any_l ()
    | & _10: Seq.seq Int32.t = Any.any_l ()
    | & _13: () = Any.any_l ()
    | & _14: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _15: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _16: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _18: bool = Any.any_l ()
    | & _20: Seq.seq Int32.t = Any.any_l ()
    | & _29: () = Any.any_l ()
    | & _30: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _31: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _32: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _33: () = Any.any_l ()
    | & _34: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _35: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _36: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & len: int = Any.any_l ()
    | & _39: Seq.seq Int32.t = Any.any_l ()
    | & get1: t_Option_ref_i32 = Any.any_l ()
    | & _49: Seq.seq Int32.t = Any.any_l ()
    | & _51: int = Any.any_l ()
    | & _52: int = Any.any_l ()
    | & get2: t_Option_ref_i32 = Any.any_l ()
    | & _55: Seq.seq Int32.t = Any.any_l ()
    | & _57: int = Any.any_l ()
    | & _58: int = Any.any_l ()
    | & _66: t_Option_ref_i32'0 = Any.any_l ()
    | & _67: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _68: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _69: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _70: int = Any.any_l ()
    | & _71: int = Any.any_l ()
    | & x: MutBorrow.t Int32.t = Any.any_l ()
    | & pop1: t_Option_i32 = Any.any_l ()
    | & _78: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _79: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _80: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & pop2: t_Option_i32 = Any.any_l ()
    | & _82: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _83: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _84: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & pop3: t_Option_i32 = Any.any_l ()
    | & _86: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _87: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _88: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & pop4: t_Option_i32 = Any.any_l ()
    | & _90: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _91: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _92: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & pop5: t_Option_i32 = Any.any_l ()
    | & _94: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _95: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _96: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & v'0: Seq.seq Int32.t = Any.any_l ()
    | & _113: () = Any.any_l ()
    | & _114: () = Any.any_l ()
    | & _115: () = Any.any_l ()
    | & _116: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _117: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _118: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _119: () = Any.any_l ()
    | & _120: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _121: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _122: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _123: () = Any.any_l ()
    | & _124: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _125: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _126: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & pop1'0: t_Option_i32 = Any.any_l ()
    | & _128: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _129: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _130: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & pop2'0: t_Option_i32 = Any.any_l ()
    | & _132: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _133: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _134: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & pop3'0: t_Option_i32 = Any.any_l ()
    | & _136: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _137: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _138: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & pop4'0: t_Option_i32 = Any.any_l ()
    | & _140: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _141: MutBorrow.t (Seq.seq Int32.t) = Any.any_l ()
    | & _142: MutBorrow.t (Seq.seq Int32.t) = Any.any_l () ]) [ return (result: ()) -> (! return {result}) ]
end
