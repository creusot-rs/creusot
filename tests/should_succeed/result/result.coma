module M_test_result
  use creusot.int.Int32
  use creusot.prelude.MutBorrow
  use creusot.prelude.Any
  
  type t_Result_i32_i32 = Ok Int32.t | Err Int32.t
  
  let rec is_ok_i32 (self_: t_Result_i32_i32) (return (x: bool)) = any
    [ return (result: bool) -> {result = (exists t: Int32.t. self_ = Ok t)} (! return {result}) ]
  
  let rec is_err_i32 (self_: t_Result_i32_i32) (return (x: bool)) = any
    [ return (result: bool) -> {result = (exists e: Int32.t. self_ = Err e)} (! return {result}) ]
  
  type t_Option_i32 = None | Some Int32.t
  
  let rec ok_i32 (self_: t_Result_i32_i32) (return (x: t_Option_i32)) = any
    [ return (result: t_Option_i32) -> {forall t: Int32.t. self_ = Ok t -> result = Some t}
      {(exists e: Int32.t. self_ = Err e) -> result = None}
      (! return {result}) ]
  
  let rec unwrap_i32 (self_: t_Option_i32) (return (x: Int32.t)) = {[@expl:unwrap requires] self_ <> None}
    any [ return (result: Int32.t) -> {Some result = self_} (! return {result}) ]
  
  let rec is_none_i32 (self_: t_Option_i32) (return (x: bool)) = any
    [ return (result: bool) -> {result = (self_ = None)} (! return {result}) ]
  
  let rec err_i32 (self_: t_Result_i32_i32) (return (x: t_Option_i32)) = any
    [ return (result: t_Option_i32) -> {(exists t: Int32.t. self_ = Ok t) -> result = None}
      {forall e: Int32.t. self_ = Err e -> result = Some e}
      (! return {result}) ]
  
  type t_Result_ref_i32_ref_i32 = Ok'0 Int32.t | Err'0 Int32.t
  
  let rec as_ref_i32 (self_: t_Result_i32_i32) (return (x: t_Result_ref_i32_ref_i32)) = any
    [ return (result: t_Result_ref_i32_ref_i32) -> {forall t: Int32.t. self_ = Ok t -> result = Ok'0 t}
      {forall e: Int32.t. self_ = Err e -> result = Err'0 e}
      (! return {result}) ]
  
  let rec unwrap_ref_i32 (self_: t_Result_ref_i32_ref_i32) (return (x: Int32.t)) =
    {[@expl:unwrap requires] exists t: Int32.t. self_ = Ok'0 t}
    any [ return (result: Int32.t) -> {Ok'0 result = self_} (! return {result}) ]
  
  let rec unwrap_err_ref_i32 (self_: t_Result_ref_i32_ref_i32) (return (x: Int32.t)) =
    {[@expl:unwrap_err requires] exists e: Int32.t. self_ = Err'0 e}
    any [ return (result: Int32.t) -> {Err'0 result = self_} (! return {result}) ]
  
  type t_Result_refmut_i32_refmut_i32 = Ok'1 (MutBorrow.t Int32.t) | Err'1 (MutBorrow.t Int32.t)
  
  let rec as_mut_i32 (self_: MutBorrow.t t_Result_i32_i32) (return (x: t_Result_refmut_i32_refmut_i32)) = any
    [ return (result: t_Result_refmut_i32_refmut_i32) -> {exists t: MutBorrow.t Int32.t. self_.current = Ok (t.current)
          /\ self_.final = Ok (t.final) /\ result = Ok'1 t
        \/ (exists e: MutBorrow.t Int32.t. self_.current = Err (e.current)
          /\ self_.final = Err (e.final) /\ result = Err'1 e)}
      (! return {result}) ]
  
  let rec unwrap_refmut_i32 (self_: t_Result_refmut_i32_refmut_i32) (return (x: MutBorrow.t Int32.t)) =
    {[@expl:unwrap requires] exists t: MutBorrow.t Int32.t. self_ = Ok'1 t}
    any [ return (result: MutBorrow.t Int32.t) -> {Ok'1 result = self_} (! return {result}) ]
  
  predicate resolve_refmut_i32 [@inline:trivial] (_1: MutBorrow.t Int32.t) = _1.final = _1.current
  
  meta "rewrite_def" predicate resolve_refmut_i32
  
  let rec unwrap_i32'0 (self_: t_Result_i32_i32) (return (x: Int32.t)) =
    {[@expl:unwrap requires] exists t: Int32.t. self_ = Ok t}
    any [ return (result: Int32.t) -> {Ok result = self_} (! return {result}) ]
  
  let rec unwrap_err_refmut_i32 (self_: t_Result_refmut_i32_refmut_i32) (return (x: MutBorrow.t Int32.t)) =
    {[@expl:unwrap_err requires] exists e: MutBorrow.t Int32.t. self_ = Err'1 e}
    any [ return (result: MutBorrow.t Int32.t) -> {Err'1 result = self_} (! return {result}) ]
  
  let rec unwrap_err_i32 (self_: t_Result_i32_i32) (return (x: Int32.t)) =
    {[@expl:unwrap_err requires] exists e: Int32.t. self_ = Err e}
    any [ return (result: Int32.t) -> {Err result = self_} (! return {result}) ]
  
  let rec unwrap_or_i32 (self_: t_Result_i32_i32) (default: Int32.t) (return (x: Int32.t)) = any
    [ return (result: Int32.t) -> {forall t: Int32.t. self_ = Ok t -> result = t}
      {(exists e: Int32.t. self_ = Err e) -> result = default}
      (! return {result}) ]
  
  predicate postcondition_once_default [@inline:trivial] (self: ()) (args: ()) (result: Int32.t) =
    let () = args in result = (0: Int32.t)
  
  meta "rewrite_def" predicate postcondition_once_default
  
  predicate resolve_default [@inline:trivial] (_1: ()) = true
  
  meta "rewrite_def" predicate resolve_default
  
  predicate postcondition_mut_default [@inline:trivial] (self: ()) (args: ()) (result_state: ()) (result: Int32.t) =
    let () = args in result = (0: Int32.t)
  
  meta "rewrite_def" predicate postcondition_mut_default
  
  function fn_mut_once_default (self: ()) (args: ()) (res: Int32.t) : ()
  
  axiom fn_mut_once_default_spec: forall self: (), args: (), res: Int32.t. postcondition_once_default self args res
      = (exists res_state: (). postcondition_mut_default self args res_state res /\ resolve_default res_state)
  
  predicate hist_inv_default [@inline:trivial] (self: ()) (result_state: ()) = true
  
  meta "rewrite_def" predicate hist_inv_default
  
  function hist_inv_trans_default (self: ()) (b: ()) (c: ()) : ()
  
  axiom hist_inv_trans_default_spec: forall self: (), b: (), c: (). hist_inv_default self b
      -> hist_inv_default b c -> hist_inv_default self c
  
  function hist_inv_refl_default (self: ()) : ()
  
  axiom hist_inv_refl_default_spec: forall self: (). hist_inv_default self self
  
  function postcondition_mut_hist_inv_default (self: ()) (args: ()) (res_state: ()) (res: Int32.t) : ()
  
  axiom postcondition_mut_hist_inv_default_spec:
    forall self: (), args: (), res_state: (), res: Int32.t. postcondition_mut_default self args res_state res
      -> hist_inv_default self res_state
  
  function fn_hist_inv_default (self: ()) (res_state: ()) : ()
  
  axiom fn_hist_inv_default_spec: forall self: (), res_state: (). hist_inv_default self res_state = (self = res_state)
  
  predicate postcondition_default [@inline:trivial] (self: ()) (args: ()) (result: Int32.t) =
    let () = args in result = (0: Int32.t)
  
  meta "rewrite_def" predicate postcondition_default
  
  function fn_once_default (self: ()) (args: ()) (res: Int32.t) : ()
  
  axiom fn_once_default_spec: forall self: (), args: (), res: Int32.t. postcondition_once_default self args res
      = (postcondition_default self args res /\ resolve_default self)
  
  function fn_mut_default (self: ()) (args: ()) (res_state: ()) (res: Int32.t) : ()
  
  axiom fn_mut_default_spec:
    forall self: (), args: (), res_state: (), res: Int32.t. postcondition_mut_default self args res_state res
      = (postcondition_default self args res /\ self = res_state)
  
  let rec default_i32 (return (x: Int32.t)) = any
    [ return (result: Int32.t) -> {result = (0: Int32.t)} (! return {result}) ]
  
  let rec unwrap_or_default_i32 (self_: t_Result_i32_i32) (return (x: Int32.t)) = any
    [ return (result: Int32.t) -> {forall t: Int32.t. self_ = Ok t -> result = t}
      {(exists e: Int32.t. self_ = Err e) -> postcondition_default () () result}
      (! return {result}) ]
  
  let rec and_i32 (self_: t_Result_i32_i32) (res: t_Result_i32_i32) (return (x: t_Result_i32_i32)) = any
    [ return (result: t_Result_i32_i32) -> {(exists t: Int32.t. self_ = Ok t) -> result = res}
      {forall e: Int32.t. self_ = Err e -> result = Err e}
      (! return {result}) ]
  
  let rec or_i32 (self_: t_Result_i32_i32) (res: t_Result_i32_i32) (return (x: t_Result_i32_i32)) = any
    [ return (result: t_Result_i32_i32) -> {forall t: Int32.t. self_ = Ok t -> result = Ok t}
      {(exists e: Int32.t. self_ = Err e) -> result = res}
      (! return {result}) ]
  
  type t_Result_i32_ref_i32 = Ok'2 Int32.t | Err'2 Int32.t
  
  let rec copied_i32 (self_: t_Result_ref_i32_ref_i32) (return (x: t_Result_i32_ref_i32)) = any
    [ return (result: t_Result_i32_ref_i32) -> {forall t: Int32.t. self_ = Ok'0 t -> result = Ok'2 t}
      {forall e: Int32.t. self_ = Err'0 e -> result = Err'2 e}
      (! return {result}) ]
  
  let rec unwrap_i32'1 (self_: t_Result_i32_ref_i32) (return (x: Int32.t)) =
    {[@expl:unwrap requires] exists t: Int32.t. self_ = Ok'2 t}
    any [ return (result: Int32.t) -> {Ok'2 result = self_} (! return {result}) ]
  
  let rec unwrap_err_i32'0 (self_: t_Result_i32_ref_i32) (return (x: Int32.t)) =
    {[@expl:unwrap_err requires] exists e: Int32.t. self_ = Err'2 e}
    any [ return (result: Int32.t) -> {Err'2 result = self_} (! return {result}) ]
  
  type t_Result_i32_refmut_i32 = Ok'3 Int32.t | Err'3 (MutBorrow.t Int32.t)
  
  let rec copied_i32'0 (self_: t_Result_refmut_i32_refmut_i32) (return (x: t_Result_i32_refmut_i32)) = any
    [ return (result: t_Result_i32_refmut_i32) -> {forall t: MutBorrow.t Int32.t. self_ = Ok'1 t
        -> result = Ok'3 (t.current) /\ resolve_refmut_i32 t}
      {forall e: MutBorrow.t Int32.t. self_ = Err'1 e -> result = Err'3 e}
      (! return {result}) ]
  
  let rec unwrap_i32'2 (self_: t_Result_i32_refmut_i32) (return (x: Int32.t)) =
    {[@expl:unwrap requires] exists t: Int32.t. self_ = Ok'3 t}
    any [ return (result: Int32.t) -> {Ok'3 result = self_} (! return {result}) ]
  
  let rec unwrap_err_i32'1 (self_: t_Result_i32_refmut_i32) (return (x: MutBorrow.t Int32.t)) =
    {[@expl:unwrap_err requires] exists e: MutBorrow.t Int32.t. self_ = Err'3 e}
    any [ return (result: MutBorrow.t Int32.t) -> {Err'3 result = self_} (! return {result}) ]
  
  let rec cloned_i32 (self_: t_Result_ref_i32_ref_i32) (return (x: t_Result_i32_ref_i32)) = any
    [ return (result: t_Result_i32_ref_i32) -> {forall t: Int32.t. self_ = Ok'0 t -> result = Ok'2 t}
      {forall e: Int32.t. self_ = Err'0 e -> result = Err'2 e}
      (! return {result}) ]
  
  let rec cloned_i32'0 (self_: t_Result_refmut_i32_refmut_i32) (return (x: t_Result_i32_refmut_i32)) = any
    [ return (result: t_Result_i32_refmut_i32) -> {forall t: MutBorrow.t Int32.t. self_ = Ok'1 t
        -> result = Ok'3 (t.current) /\ resolve_refmut_i32 t}
      {forall e: MutBorrow.t Int32.t. self_ = Err'1 e -> result = Err'3 e}
      (! return {result}) ]
  
  type t_Result_Option_i32_i32 = Ok'4 t_Option_i32 | Err'4 Int32.t
  
  type t_Option_Result_i32_i32 = None'0 | Some'0 t_Result_i32_i32
  
  let rec transpose_i32 (self_: t_Result_Option_i32_i32) (return (x: t_Option_Result_i32_i32)) = any
    [ return (result: t_Option_Result_i32_i32) -> {self_ = Ok'4 (None) -> result = None'0}
      {forall t: Int32.t. self_ = Ok'4 (Some t) -> result = Some'0 (Ok t)}
      {forall e: Int32.t. self_ = Err'4 e -> result = Some'0 (Err e)}
      (! return {result}) ]
  
  let rec is_none_Result_i32_i32 (self_: t_Option_Result_i32_i32) (return (x: bool)) = any
    [ return (result: bool) -> {result = (self_ = None'0)} (! return {result}) ]
  
  let rec unwrap_Result_i32_i32 (self_: t_Option_Result_i32_i32) (return (x: t_Result_i32_i32)) =
    {[@expl:unwrap requires] self_ <> None'0}
    any [ return (result: t_Result_i32_i32) -> {Some'0 result = self_} (! return {result}) ]
  
  meta "compute_max_steps" 1000000
  
  meta "select_lsinst" "all"
  
  let rec test_result (return (x: ())) = (! bb0
    [ bb0 = s0
      [ s0 = [ &ok <- Ok (1: Int32.t) ] s1
      | s1 = [ &err <- Err (-1: Int32.t) ] s2
      | s2 = is_ok_i32 {ok} (fun (_x: bool) -> [ &_4 <- _x ] s3)
      | s3 = any [ br0 -> {_4 = false} (! bb7) | br1 -> {_4} (! bb2) ] ]
    | bb2 = s0
      [ s0 = is_ok_i32 {err} (fun (_x: bool) -> [ &_6 <- _x ] s1)
      | s1 = any [ br0 -> {_6 = false} (! bb5) | br1 -> {_6} (! bb7) ] ]
    | bb5 = s0
      [ s0 = is_err_i32 {err} (fun (_x: bool) -> [ &_10 <- _x ] s1)
      | s1 = any [ br0 -> {_10 = false} (! bb14) | br1 -> {_10} (! bb9) ] ]
    | bb9 = s0
      [ s0 = is_err_i32 {ok} (fun (_x: bool) -> [ &_12 <- _x ] s1)
      | s1 = any [ br0 -> {_12 = false} (! bb12) | br1 -> {_12} (! bb14) ] ]
    | bb12 = s0
      [ s0 = ok_i32 {ok} (fun (_x: t_Option_i32) -> [ &_18 <- _x ] s1)
      | s1 = unwrap_i32 {_18} (fun (_x: Int32.t) -> [ &_17 <- _x ] s2)
      | s2 = [ &_16 <- _17 = (1: Int32.t) ] s3
      | s3 = any [ br0 -> {_16 = false} (! bb18) | br1 -> {_16} (! bb17) ] ]
    | bb17 = s0
      [ s0 = ok_i32 {err} (fun (_x: t_Option_i32) -> [ &_24 <- _x ] s1)
      | s1 = is_none_i32 {_24} (fun (_x: bool) -> [ &_22 <- _x ] s2)
      | s2 = any [ br0 -> {_22 = false} (! bb22) | br1 -> {_22} (! bb21) ] ]
    | bb21 = s0
      [ s0 = err_i32 {ok} (fun (_x: t_Option_i32) -> [ &_30 <- _x ] s1)
      | s1 = is_none_i32 {_30} (fun (_x: bool) -> [ &_28 <- _x ] s2)
      | s2 = any [ br0 -> {_28 = false} (! bb26) | br1 -> {_28} (! bb25) ] ]
    | bb25 = s0
      [ s0 = err_i32 {err} (fun (_x: t_Option_i32) -> [ &_36 <- _x ] s1)
      | s1 = unwrap_i32 {_36} (fun (_x: Int32.t) -> [ &_35 <- _x ] s2)
      | s2 = [ &_34 <- _35 = (-1: Int32.t) ] s3
      | s3 = any [ br0 -> {_34 = false} (! bb30) | br1 -> {_34} (! bb29) ] ]
    | bb29 = s0
      [ s0 = as_ref_i32 {ok} (fun (_x: t_Result_ref_i32_ref_i32) -> [ &_43 <- _x ] s1)
      | s1 = unwrap_ref_i32 {_43} (fun (_x: Int32.t) -> [ &_42 <- _x ] s2)
      | s2 = [ &_40 <- _42 = (1: Int32.t) ] s3
      | s3 = any [ br0 -> {_40 = false} (! bb34) | br1 -> {_40} (! bb33) ] ]
    | bb33 = s0
      [ s0 = as_ref_i32 {err} (fun (_x: t_Result_ref_i32_ref_i32) -> [ &_50 <- _x ] s1)
      | s1 = unwrap_err_ref_i32 {_50} (fun (_x: Int32.t) -> [ &_49 <- _x ] s2)
      | s2 = [ &_47 <- _49 = (-1: Int32.t) ] s3
      | s3 = any [ br0 -> {_47 = false} (! bb38) | br1 -> {_47} (! bb37) ] ]
    | bb37 = s0
      [ s0 = MutBorrow.borrow_mut <t_Result_i32_i32> {ok}
          (fun (_bor: MutBorrow.t t_Result_i32_i32) -> [ &_55 <- _bor ] [ &ok <- _bor.final ] s1)
      | s1 = as_mut_i32 {_55} (fun (_x: t_Result_refmut_i32_refmut_i32) -> [ &_54 <- _x ] s2)
      | s2 = unwrap_refmut_i32 {_54} (fun (_x: MutBorrow.t Int32.t) -> [ &_53 <- _x ] s3)
      | s3 = [ &_53 <- { _53 with current = (0: Int32.t) } ] s4
      | s4 = -{resolve_refmut_i32 _53}- s5
      | s5 = unwrap_i32'0 {ok} (fun (_x: Int32.t) -> [ &_58 <- _x ] s6)
      | s6 = [ &_57 <- _58 = (0: Int32.t) ] s7
      | s7 = any [ br0 -> {_57 = false} (! bb43) | br1 -> {_57} (! bb42) ] ]
    | bb42 = s0
      [ s0 = MutBorrow.borrow_mut <t_Result_i32_i32> {ok}
          (fun (_bor: MutBorrow.t t_Result_i32_i32) -> [ &_63 <- _bor ] [ &ok <- _bor.final ] s1)
      | s1 = as_mut_i32 {_63} (fun (_x: t_Result_refmut_i32_refmut_i32) -> [ &_62 <- _x ] s2)
      | s2 = unwrap_refmut_i32 {_62} (fun (_x: MutBorrow.t Int32.t) -> [ &_61 <- _x ] s3)
      | s3 = [ &_61 <- { _61 with current = (1: Int32.t) } ] s4
      | s4 = -{resolve_refmut_i32 _61}- s5
      | s5 = unwrap_i32'0 {ok} (fun (_x: Int32.t) -> [ &_66 <- _x ] s6)
      | s6 = [ &_65 <- _66 = (1: Int32.t) ] s7
      | s7 = any [ br0 -> {_65 = false} (! bb48) | br1 -> {_65} (! bb47) ] ]
    | bb47 = s0
      [ s0 = MutBorrow.borrow_mut <t_Result_i32_i32> {err}
          (fun (_bor: MutBorrow.t t_Result_i32_i32) -> [ &_71 <- _bor ] [ &err <- _bor.final ] s1)
      | s1 = as_mut_i32 {_71} (fun (_x: t_Result_refmut_i32_refmut_i32) -> [ &_70 <- _x ] s2)
      | s2 = unwrap_err_refmut_i32 {_70} (fun (_x: MutBorrow.t Int32.t) -> [ &_69 <- _x ] s3)
      | s3 = [ &_69 <- { _69 with current = (0: Int32.t) } ] s4
      | s4 = -{resolve_refmut_i32 _69}- s5
      | s5 = unwrap_err_i32 {err} (fun (_x: Int32.t) -> [ &_74 <- _x ] s6)
      | s6 = [ &_73 <- _74 = (0: Int32.t) ] s7
      | s7 = any [ br0 -> {_73 = false} (! bb53) | br1 -> {_73} (! bb52) ] ]
    | bb52 = s0
      [ s0 = MutBorrow.borrow_mut <t_Result_i32_i32> {err}
          (fun (_bor: MutBorrow.t t_Result_i32_i32) -> [ &_79 <- _bor ] [ &err <- _bor.final ] s1)
      | s1 = as_mut_i32 {_79} (fun (_x: t_Result_refmut_i32_refmut_i32) -> [ &_78 <- _x ] s2)
      | s2 = unwrap_err_refmut_i32 {_78} (fun (_x: MutBorrow.t Int32.t) -> [ &_77 <- _x ] s3)
      | s3 = [ &_77 <- { _77 with current = (-1: Int32.t) } ] s4
      | s4 = -{resolve_refmut_i32 _77}- s5
      | s5 = unwrap_err_i32 {err} (fun (_x: Int32.t) -> [ &_82 <- _x ] s6)
      | s6 = [ &_81 <- _82 = (-1: Int32.t) ] s7
      | s7 = any [ br0 -> {_81 = false} (! bb58) | br1 -> {_81} (! bb57) ] ]
    | bb57 = s0
      [ s0 = unwrap_i32'0 {ok} (fun (_x: Int32.t) -> [ &_87 <- _x ] s1)
      | s1 = [ &_86 <- _87 = (1: Int32.t) ] s2
      | s2 = any [ br0 -> {_86 = false} (! bb61) | br1 -> {_86} (! bb60) ] ]
    | bb60 = s0
      [ s0 = unwrap_err_i32 {err} (fun (_x: Int32.t) -> [ &_92 <- _x ] s1)
      | s1 = [ &_91 <- _92 = (-1: Int32.t) ] s2
      | s2 = any [ br0 -> {_91 = false} (! bb64) | br1 -> {_91} (! bb63) ] ]
    | bb63 = s0
      [ s0 = unwrap_or_i32 {ok} {(0: Int32.t)} (fun (_x: Int32.t) -> [ &_97 <- _x ] s1)
      | s1 = [ &_96 <- _97 = (1: Int32.t) ] s2
      | s2 = any [ br0 -> {_96 = false} (! bb67) | br1 -> {_96} (! bb66) ] ]
    | bb66 = s0
      [ s0 = unwrap_or_i32 {err} {(0: Int32.t)} (fun (_x: Int32.t) -> [ &_102 <- _x ] s1)
      | s1 = [ &_101 <- _102 = (0: Int32.t) ] s2
      | s2 = any [ br0 -> {_101 = false} (! bb70) | br1 -> {_101} (! bb69) ] ]
    | bb69 = s0
      [ s0 = unwrap_or_default_i32 {ok} (fun (_x: Int32.t) -> [ &_107 <- _x ] s1)
      | s1 = [ &_106 <- _107 = (1: Int32.t) ] s2
      | s2 = any [ br0 -> {_106 = false} (! bb73) | br1 -> {_106} (! bb72) ] ]
    | bb72 = s0
      [ s0 = unwrap_or_default_i32 {err} (fun (_x: Int32.t) -> [ &_112 <- _x ] s1)
      | s1 = [ &_111 <- _112 = (0: Int32.t) ] s2
      | s2 = any [ br0 -> {_111 = false} (! bb76) | br1 -> {_111} (! bb75) ] ]
    | bb75 = s0
      [ s0 = [ &_120 <- Err (-2: Int32.t) ] s1
      | s1 = and_i32 {ok} {_120} (fun (_x: t_Result_i32_i32) -> [ &_118 <- _x ] s2)
      | s2 = unwrap_err_i32 {_118} (fun (_x: Int32.t) -> [ &_117 <- _x ] s3)
      | s3 = [ &_116 <- _117 = (-2: Int32.t) ] s4
      | s4 = any [ br0 -> {_116 = false} (! bb80) | br1 -> {_116} (! bb79) ] ]
    | bb79 = s0
      [ s0 = [ &_127 <- Ok (2: Int32.t) ] s1
      | s1 = and_i32 {ok} {_127} (fun (_x: t_Result_i32_i32) -> [ &_125 <- _x ] s2)
      | s2 = unwrap_i32'0 {_125} (fun (_x: Int32.t) -> [ &_124 <- _x ] s3)
      | s3 = [ &_123 <- _124 = (2: Int32.t) ] s4
      | s4 = any [ br0 -> {_123 = false} (! bb84) | br1 -> {_123} (! bb83) ] ]
    | bb83 = s0
      [ s0 = [ &_134 <- Err (-2: Int32.t) ] s1
      | s1 = and_i32 {err} {_134} (fun (_x: t_Result_i32_i32) -> [ &_132 <- _x ] s2)
      | s2 = unwrap_err_i32 {_132} (fun (_x: Int32.t) -> [ &_131 <- _x ] s3)
      | s3 = [ &_130 <- _131 = (-1: Int32.t) ] s4
      | s4 = any [ br0 -> {_130 = false} (! bb88) | br1 -> {_130} (! bb87) ] ]
    | bb87 = s0
      [ s0 = [ &_141 <- Ok (2: Int32.t) ] s1
      | s1 = and_i32 {err} {_141} (fun (_x: t_Result_i32_i32) -> [ &_139 <- _x ] s2)
      | s2 = unwrap_err_i32 {_139} (fun (_x: Int32.t) -> [ &_138 <- _x ] s3)
      | s3 = [ &_137 <- _138 = (-1: Int32.t) ] s4
      | s4 = any [ br0 -> {_137 = false} (! bb92) | br1 -> {_137} (! bb91) ] ]
    | bb91 = s0
      [ s0 = [ &_148 <- Err (-2: Int32.t) ] s1
      | s1 = or_i32 {ok} {_148} (fun (_x: t_Result_i32_i32) -> [ &_146 <- _x ] s2)
      | s2 = unwrap_i32'0 {_146} (fun (_x: Int32.t) -> [ &_145 <- _x ] s3)
      | s3 = [ &_144 <- _145 = (1: Int32.t) ] s4
      | s4 = any [ br0 -> {_144 = false} (! bb96) | br1 -> {_144} (! bb95) ] ]
    | bb95 = s0
      [ s0 = [ &_155 <- Ok (2: Int32.t) ] s1
      | s1 = or_i32 {ok} {_155} (fun (_x: t_Result_i32_i32) -> [ &_153 <- _x ] s2)
      | s2 = unwrap_i32'0 {_153} (fun (_x: Int32.t) -> [ &_152 <- _x ] s3)
      | s3 = [ &_151 <- _152 = (1: Int32.t) ] s4
      | s4 = any [ br0 -> {_151 = false} (! bb100) | br1 -> {_151} (! bb99) ] ]
    | bb99 = s0
      [ s0 = [ &_162 <- Err (-2: Int32.t) ] s1
      | s1 = or_i32 {err} {_162} (fun (_x: t_Result_i32_i32) -> [ &_160 <- _x ] s2)
      | s2 = unwrap_err_i32 {_160} (fun (_x: Int32.t) -> [ &_159 <- _x ] s3)
      | s3 = [ &_158 <- _159 = (-2: Int32.t) ] s4
      | s4 = any [ br0 -> {_158 = false} (! bb104) | br1 -> {_158} (! bb103) ] ]
    | bb103 = s0
      [ s0 = [ &_169 <- Ok (2: Int32.t) ] s1
      | s1 = or_i32 {err} {_169} (fun (_x: t_Result_i32_i32) -> [ &_167 <- _x ] s2)
      | s2 = unwrap_i32'0 {_167} (fun (_x: Int32.t) -> [ &_166 <- _x ] s3)
      | s3 = [ &_165 <- _166 = (2: Int32.t) ] s4
      | s4 = any [ br0 -> {_165 = false} (! bb108) | br1 -> {_165} (! bb107) ] ]
    | bb107 = s0
      [ s0 = as_ref_i32 {ok} (fun (_x: t_Result_ref_i32_ref_i32) -> [ &_175 <- _x ] s1)
      | s1 = copied_i32 {_175} (fun (_x: t_Result_i32_ref_i32) -> [ &_174 <- _x ] s2)
      | s2 = unwrap_i32'1 {_174} (fun (_x: Int32.t) -> [ &_173 <- _x ] s3)
      | s3 = [ &_172 <- _173 = (1: Int32.t) ] s4
      | s4 = any [ br0 -> {_172 = false} (! bb113) | br1 -> {_172} (! bb112) ] ]
    | bb112 = s0
      [ s0 = as_ref_i32 {err} (fun (_x: t_Result_ref_i32_ref_i32) -> [ &_183 <- _x ] s1)
      | s1 = copied_i32 {_183} (fun (_x: t_Result_i32_ref_i32) -> [ &_182 <- _x ] s2)
      | s2 = unwrap_err_i32'0 {_182} (fun (_x: Int32.t) -> [ &_181 <- _x ] s3)
      | s3 = [ &_179 <- _181 = (-1: Int32.t) ] s4
      | s4 = any [ br0 -> {_179 = false} (! bb118) | br1 -> {_179} (! bb117) ] ]
    | bb117 = s0
      [ s0 = MutBorrow.borrow_mut <t_Result_i32_i32> {ok}
          (fun (_bor: MutBorrow.t t_Result_i32_i32) -> [ &_191 <- _bor ] [ &ok <- _bor.final ] s1)
      | s1 = as_mut_i32 {_191} (fun (_x: t_Result_refmut_i32_refmut_i32) -> [ &_190 <- _x ] s2)
      | s2 = copied_i32'0 {_190} (fun (_x: t_Result_i32_refmut_i32) -> [ &_189 <- _x ] s3)
      | s3 = unwrap_i32'2 {_189} (fun (_x: Int32.t) -> [ &_188 <- _x ] s4)
      | s4 = [ &_187 <- _188 = (1: Int32.t) ] s5
      | s5 = any [ br0 -> {_187 = false} (! bb123) | br1 -> {_187} (! bb122) ] ]
    | bb122 = s0
      [ s0 = MutBorrow.borrow_mut <t_Result_i32_i32> {err}
          (fun (_bor: MutBorrow.t t_Result_i32_i32) -> [ &_199 <- _bor ] [ &err <- _bor.final ] s1)
      | s1 = as_mut_i32 {_199} (fun (_x: t_Result_refmut_i32_refmut_i32) -> [ &_198 <- _x ] s2)
      | s2 = copied_i32'0 {_198} (fun (_x: t_Result_i32_refmut_i32) -> [ &_197 <- _x ] s3)
      | s3 = unwrap_err_i32'1 {_197} (fun (_x: MutBorrow.t Int32.t) -> [ &_196 <- _x ] s4)
      | s4 = -{resolve_refmut_i32 _196}- s5
      | s5 = [ &_194 <- _196.current = (-1: Int32.t) ] s6
      | s6 = any [ br0 -> {_194 = false} (! bb128) | br1 -> {_194} (! bb127) ] ]
    | bb127 = s0
      [ s0 = as_ref_i32 {ok} (fun (_x: t_Result_ref_i32_ref_i32) -> [ &_205 <- _x ] s1)
      | s1 = cloned_i32 {_205} (fun (_x: t_Result_i32_ref_i32) -> [ &_204 <- _x ] s2)
      | s2 = unwrap_i32'1 {_204} (fun (_x: Int32.t) -> [ &_203 <- _x ] s3)
      | s3 = [ &_202 <- _203 = (1: Int32.t) ] s4
      | s4 = any [ br0 -> {_202 = false} (! bb133) | br1 -> {_202} (! bb132) ] ]
    | bb132 = s0
      [ s0 = as_ref_i32 {err} (fun (_x: t_Result_ref_i32_ref_i32) -> [ &_213 <- _x ] s1)
      | s1 = cloned_i32 {_213} (fun (_x: t_Result_i32_ref_i32) -> [ &_212 <- _x ] s2)
      | s2 = unwrap_err_i32'0 {_212} (fun (_x: Int32.t) -> [ &_211 <- _x ] s3)
      | s3 = [ &_209 <- _211 = (-1: Int32.t) ] s4
      | s4 = any [ br0 -> {_209 = false} (! bb138) | br1 -> {_209} (! bb137) ] ]
    | bb137 = s0
      [ s0 = MutBorrow.borrow_mut <t_Result_i32_i32> {ok}
          (fun (_bor: MutBorrow.t t_Result_i32_i32) -> [ &_221 <- _bor ] [ &ok <- _bor.final ] s1)
      | s1 = as_mut_i32 {_221} (fun (_x: t_Result_refmut_i32_refmut_i32) -> [ &_220 <- _x ] s2)
      | s2 = cloned_i32'0 {_220} (fun (_x: t_Result_i32_refmut_i32) -> [ &_219 <- _x ] s3)
      | s3 = unwrap_i32'2 {_219} (fun (_x: Int32.t) -> [ &_218 <- _x ] s4)
      | s4 = [ &_217 <- _218 = (1: Int32.t) ] s5
      | s5 = any [ br0 -> {_217 = false} (! bb143) | br1 -> {_217} (! bb142) ] ]
    | bb142 = s0
      [ s0 = MutBorrow.borrow_mut <t_Result_i32_i32> {err}
          (fun (_bor: MutBorrow.t t_Result_i32_i32) -> [ &_229 <- _bor ] [ &err <- _bor.final ] s1)
      | s1 = as_mut_i32 {_229} (fun (_x: t_Result_refmut_i32_refmut_i32) -> [ &_228 <- _x ] s2)
      | s2 = cloned_i32'0 {_228} (fun (_x: t_Result_i32_refmut_i32) -> [ &_227 <- _x ] s3)
      | s3 = unwrap_err_i32'1 {_227} (fun (_x: MutBorrow.t Int32.t) -> [ &_226 <- _x ] s4)
      | s4 = -{resolve_refmut_i32 _226}- s5
      | s5 = [ &_224 <- _226.current = (-1: Int32.t) ] s6
      | s6 = any [ br0 -> {_224 = false} (! bb148) | br1 -> {_224} (! bb147) ] ]
    | bb147 = s0
      [ s0 = [ &_232 <- None ] s1
      | s1 = [ &res <- Ok'4 _232 ] s2
      | s2 = transpose_i32 {res} (fun (_x: t_Option_Result_i32_i32) -> [ &_236 <- _x ] s3)
      | s3 = is_none_Result_i32_i32 {_236} (fun (_x: bool) -> [ &_234 <- _x ] s4)
      | s4 = any [ br0 -> {_234 = false} (! bb152) | br1 -> {_234} (! bb151) ] ]
    | bb151 = s0
      [ s0 = [ &_240 <- Some (1: Int32.t) ] s1
      | s1 = [ &res'0 <- Ok'4 _240 ] s2
      | s2 = transpose_i32 {res'0} (fun (_x: t_Option_Result_i32_i32) -> [ &_245 <- _x ] s3)
      | s3 = unwrap_Result_i32_i32 {_245} (fun (_x: t_Result_i32_i32) -> [ &_244 <- _x ] s4)
      | s4 = unwrap_i32'0 {_244} (fun (_x: Int32.t) -> [ &_243 <- _x ] s5)
      | s5 = [ &_242 <- _243 = (1: Int32.t) ] s6
      | s6 = any [ br0 -> {_242 = false} (! bb157) | br1 -> {_242} (! bb156) ] ]
    | bb156 = s0
      [ s0 = [ &res'1 <- Err'4 (-1: Int32.t) ] s1
      | s1 = transpose_i32 {res'1} (fun (_x: t_Option_Result_i32_i32) -> [ &_253 <- _x ] s2)
      | s2 = unwrap_Result_i32_i32 {_253} (fun (_x: t_Result_i32_i32) -> [ &_252 <- _x ] s3)
      | s3 = unwrap_err_i32 {_252} (fun (_x: Int32.t) -> [ &_251 <- _x ] s4)
      | s4 = [ &_250 <- _251 = (-1: Int32.t) ] s5
      | s5 = any [ br0 -> {_250 = false} (! bb162) | br1 -> {_250} (! bb161) ] ]
    | bb161 = return {_ret}
    | bb162 = {false} any
    | bb157 = {false} any
    | bb152 = {false} any
    | bb148 = {false} any
    | bb143 = {false} any
    | bb138 = {false} any
    | bb133 = {false} any
    | bb128 = {false} any
    | bb123 = {false} any
    | bb118 = {false} any
    | bb113 = {false} any
    | bb108 = {false} any
    | bb104 = {false} any
    | bb100 = {false} any
    | bb96 = {false} any
    | bb92 = {false} any
    | bb88 = {false} any
    | bb84 = {false} any
    | bb80 = {false} any
    | bb76 = {false} any
    | bb73 = {false} any
    | bb70 = {false} any
    | bb67 = {false} any
    | bb64 = {false} any
    | bb61 = {false} any
    | bb58 = {false} any
    | bb53 = {false} any
    | bb48 = {false} any
    | bb43 = {false} any
    | bb38 = {false} any
    | bb34 = {false} any
    | bb30 = {false} any
    | bb26 = {false} any
    | bb22 = {false} any
    | bb18 = {false} any
    | bb14 = {false} any
    | bb7 = {false} any ]
    [ & _ret: () = Any.any_l ()
    | & ok: t_Result_i32_i32 = Any.any_l ()
    | & err: t_Result_i32_i32 = Any.any_l ()
    | & _4: bool = Any.any_l ()
    | & _6: bool = Any.any_l ()
    | & _10: bool = Any.any_l ()
    | & _12: bool = Any.any_l ()
    | & _16: bool = Any.any_l ()
    | & _17: Int32.t = Any.any_l ()
    | & _18: t_Option_i32 = Any.any_l ()
    | & _22: bool = Any.any_l ()
    | & _24: t_Option_i32 = Any.any_l ()
    | & _28: bool = Any.any_l ()
    | & _30: t_Option_i32 = Any.any_l ()
    | & _34: bool = Any.any_l ()
    | & _35: Int32.t = Any.any_l ()
    | & _36: t_Option_i32 = Any.any_l ()
    | & _40: bool = Any.any_l ()
    | & _42: Int32.t = Any.any_l ()
    | & _43: t_Result_ref_i32_ref_i32 = Any.any_l ()
    | & _47: bool = Any.any_l ()
    | & _49: Int32.t = Any.any_l ()
    | & _50: t_Result_ref_i32_ref_i32 = Any.any_l ()
    | & _53: MutBorrow.t Int32.t = Any.any_l ()
    | & _54: t_Result_refmut_i32_refmut_i32 = Any.any_l ()
    | & _55: MutBorrow.t t_Result_i32_i32 = Any.any_l ()
    | & _57: bool = Any.any_l ()
    | & _58: Int32.t = Any.any_l ()
    | & _61: MutBorrow.t Int32.t = Any.any_l ()
    | & _62: t_Result_refmut_i32_refmut_i32 = Any.any_l ()
    | & _63: MutBorrow.t t_Result_i32_i32 = Any.any_l ()
    | & _65: bool = Any.any_l ()
    | & _66: Int32.t = Any.any_l ()
    | & _69: MutBorrow.t Int32.t = Any.any_l ()
    | & _70: t_Result_refmut_i32_refmut_i32 = Any.any_l ()
    | & _71: MutBorrow.t t_Result_i32_i32 = Any.any_l ()
    | & _73: bool = Any.any_l ()
    | & _74: Int32.t = Any.any_l ()
    | & _77: MutBorrow.t Int32.t = Any.any_l ()
    | & _78: t_Result_refmut_i32_refmut_i32 = Any.any_l ()
    | & _79: MutBorrow.t t_Result_i32_i32 = Any.any_l ()
    | & _81: bool = Any.any_l ()
    | & _82: Int32.t = Any.any_l ()
    | & _86: bool = Any.any_l ()
    | & _87: Int32.t = Any.any_l ()
    | & _91: bool = Any.any_l ()
    | & _92: Int32.t = Any.any_l ()
    | & _96: bool = Any.any_l ()
    | & _97: Int32.t = Any.any_l ()
    | & _101: bool = Any.any_l ()
    | & _102: Int32.t = Any.any_l ()
    | & _106: bool = Any.any_l ()
    | & _107: Int32.t = Any.any_l ()
    | & _111: bool = Any.any_l ()
    | & _112: Int32.t = Any.any_l ()
    | & _116: bool = Any.any_l ()
    | & _117: Int32.t = Any.any_l ()
    | & _118: t_Result_i32_i32 = Any.any_l ()
    | & _120: t_Result_i32_i32 = Any.any_l ()
    | & _123: bool = Any.any_l ()
    | & _124: Int32.t = Any.any_l ()
    | & _125: t_Result_i32_i32 = Any.any_l ()
    | & _127: t_Result_i32_i32 = Any.any_l ()
    | & _130: bool = Any.any_l ()
    | & _131: Int32.t = Any.any_l ()
    | & _132: t_Result_i32_i32 = Any.any_l ()
    | & _134: t_Result_i32_i32 = Any.any_l ()
    | & _137: bool = Any.any_l ()
    | & _138: Int32.t = Any.any_l ()
    | & _139: t_Result_i32_i32 = Any.any_l ()
    | & _141: t_Result_i32_i32 = Any.any_l ()
    | & _144: bool = Any.any_l ()
    | & _145: Int32.t = Any.any_l ()
    | & _146: t_Result_i32_i32 = Any.any_l ()
    | & _148: t_Result_i32_i32 = Any.any_l ()
    | & _151: bool = Any.any_l ()
    | & _152: Int32.t = Any.any_l ()
    | & _153: t_Result_i32_i32 = Any.any_l ()
    | & _155: t_Result_i32_i32 = Any.any_l ()
    | & _158: bool = Any.any_l ()
    | & _159: Int32.t = Any.any_l ()
    | & _160: t_Result_i32_i32 = Any.any_l ()
    | & _162: t_Result_i32_i32 = Any.any_l ()
    | & _165: bool = Any.any_l ()
    | & _166: Int32.t = Any.any_l ()
    | & _167: t_Result_i32_i32 = Any.any_l ()
    | & _169: t_Result_i32_i32 = Any.any_l ()
    | & _172: bool = Any.any_l ()
    | & _173: Int32.t = Any.any_l ()
    | & _174: t_Result_i32_ref_i32 = Any.any_l ()
    | & _175: t_Result_ref_i32_ref_i32 = Any.any_l ()
    | & _179: bool = Any.any_l ()
    | & _181: Int32.t = Any.any_l ()
    | & _182: t_Result_i32_ref_i32 = Any.any_l ()
    | & _183: t_Result_ref_i32_ref_i32 = Any.any_l ()
    | & _187: bool = Any.any_l ()
    | & _188: Int32.t = Any.any_l ()
    | & _189: t_Result_i32_refmut_i32 = Any.any_l ()
    | & _190: t_Result_refmut_i32_refmut_i32 = Any.any_l ()
    | & _191: MutBorrow.t t_Result_i32_i32 = Any.any_l ()
    | & _194: bool = Any.any_l ()
    | & _196: MutBorrow.t Int32.t = Any.any_l ()
    | & _197: t_Result_i32_refmut_i32 = Any.any_l ()
    | & _198: t_Result_refmut_i32_refmut_i32 = Any.any_l ()
    | & _199: MutBorrow.t t_Result_i32_i32 = Any.any_l ()
    | & _202: bool = Any.any_l ()
    | & _203: Int32.t = Any.any_l ()
    | & _204: t_Result_i32_ref_i32 = Any.any_l ()
    | & _205: t_Result_ref_i32_ref_i32 = Any.any_l ()
    | & _209: bool = Any.any_l ()
    | & _211: Int32.t = Any.any_l ()
    | & _212: t_Result_i32_ref_i32 = Any.any_l ()
    | & _213: t_Result_ref_i32_ref_i32 = Any.any_l ()
    | & _217: bool = Any.any_l ()
    | & _218: Int32.t = Any.any_l ()
    | & _219: t_Result_i32_refmut_i32 = Any.any_l ()
    | & _220: t_Result_refmut_i32_refmut_i32 = Any.any_l ()
    | & _221: MutBorrow.t t_Result_i32_i32 = Any.any_l ()
    | & _224: bool = Any.any_l ()
    | & _226: MutBorrow.t Int32.t = Any.any_l ()
    | & _227: t_Result_i32_refmut_i32 = Any.any_l ()
    | & _228: t_Result_refmut_i32_refmut_i32 = Any.any_l ()
    | & _229: MutBorrow.t t_Result_i32_i32 = Any.any_l ()
    | & res: t_Result_Option_i32_i32 = Any.any_l ()
    | & _232: t_Option_i32 = Any.any_l ()
    | & _234: bool = Any.any_l ()
    | & _236: t_Option_Result_i32_i32 = Any.any_l ()
    | & res'0: t_Result_Option_i32_i32 = Any.any_l ()
    | & _240: t_Option_i32 = Any.any_l ()
    | & _242: bool = Any.any_l ()
    | & _243: Int32.t = Any.any_l ()
    | & _244: t_Result_i32_i32 = Any.any_l ()
    | & _245: t_Option_Result_i32_i32 = Any.any_l ()
    | & res'1: t_Result_Option_i32_i32 = Any.any_l ()
    | & _250: bool = Any.any_l ()
    | & _251: Int32.t = Any.any_l ()
    | & _252: t_Result_i32_i32 = Any.any_l ()
    | & _253: t_Option_Result_i32_i32 = Any.any_l () ]) [ return (result: ()) -> (! return {result}) ]
end
